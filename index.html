<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WT*Rcaâ„¢</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap');
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{
  --ink:#1a1825;--paper:#f5f2ed;--mid:#e8e4de;--dim:#b0a898;
  --accent:#d63031;--green:#00b894;--blue:#0984e3;--yellow:#fdcb6e;
  --mono:'IBM Plex Mono',monospace;--sans:'DM Sans',sans-serif;
}
body{font-family:var(--sans);background:var(--paper);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:28px;padding:40px 20px;}
/* page chrome */
.page-label{font-family:var(--mono);font-size:10px;letter-spacing:3px;color:var(--dim);text-transform:uppercase;}
.demo-card{background:white;border:1px solid var(--mid);border-radius:3px;padding:36px;max-width:420px;width:100%;box-shadow:0 2px 12px rgba(0,0,0,0.06);}
.demo-card h2{font-size:20px;font-weight:600;color:var(--ink);margin-bottom:4px;}
.demo-card .sub{font-size:13px;color:var(--dim);margin-bottom:24px;}
.field{margin-bottom:14px;}
.field label{display:block;font-size:12px;font-weight:500;color:#555;margin-bottom:5px;}
.field input{width:100%;padding:9px 12px;border:1px solid var(--mid);border-radius:2px;font-family:var(--sans);font-size:14px;outline:none;color:var(--ink);transition:border-color 0.15s;}
.field input:focus{border-color:var(--ink);}
.field input[readonly]{background:var(--paper);color:var(--dim);cursor:not-allowed;}
.field .field-hint{font-family:var(--mono);font-size:9px;color:var(--dim);margin-top:4px;letter-spacing:0.5px;}
.submit{width:100%;padding:11px;background:var(--ink);color:white;border:none;border-radius:2px;font-family:var(--sans);font-size:14px;font-weight:500;cursor:pointer;margin-top:6px;transition:opacity 0.2s;}
.submit:disabled{opacity:0.35;cursor:not-allowed;}
.submit:not(:disabled):hover{background:#2d2a3e;}
/* widget */
.ecw{display:flex;align-items:center;gap:14px;border:1px solid #d8d4ce;border-radius:2px;padding:12px 16px;margin-bottom:14px;cursor:pointer;user-select:none;transition:border-color 0.15s;background:white;min-height:58px;}
.ecw:hover{border-color:#888;}
.ecw-box{width:24px;height:24px;flex-shrink:0;border:1.5px solid #bbb;border-radius:2px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;background:white;position:relative;}
.ecw-box .spin{width:15px;height:15px;border:2px solid #ddd;border-top-color:var(--ink);border-radius:50%;opacity:0;animation:wSpin 0.6s linear infinite;}
@keyframes wSpin{to{transform:rotate(360deg);}}
.ecw.loading .ecw-box .spin{opacity:1;}
.ecw.ok .ecw-box{border-color:var(--green);background:#f0fdf9;}
.ecw.ok .ecw-box svg{opacity:1;transform:scale(1);}
.ecw-box svg{opacity:0;transform:scale(0);transition:all 0.25s cubic-bezier(0.175,0.885,0.32,1.6);}
.ecw-text{flex:1;}
.ecw-text .main{font-size:14px;color:var(--ink);}
.ecw-text .sub2{font-family:var(--mono);font-size:9px;color:var(--dim);margin-top:2px;letter-spacing:0.5px;}
.ecw-badge{display:flex;flex-direction:column;align-items:center;gap:2px;flex-shrink:0;}
.ecw-badge-icon{width:28px;height:28px;background:var(--ink);border-radius:3px;display:flex;align-items:center;justify-content:center;}
.ecw-badge-label{font-family:var(--mono);font-size:7px;color:var(--dim);}
/* overlay */
.eco{position:fixed;inset:0;background:rgba(15,12,25,0.75);z-index:9999;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity 0.2s;backdrop-filter:blur(6px);}
.eco.open{opacity:1;pointer-events:all;}
/* modal */
.ecm{width:540px;max-width:96vw;max-height:92vh;background:white;border:1px solid var(--mid);border-radius:3px;display:flex;flex-direction:column;transform:translateY(16px) scale(0.98);transition:transform 0.22s cubic-bezier(0.175,0.885,0.32,1.15);overflow:hidden;box-shadow:0 24px 80px rgba(0,0,0,0.25);}
.eco.open .ecm{transform:translateY(0) scale(1);}
.ecm-head{padding:14px 18px 12px;border-bottom:1px solid var(--mid);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;background:var(--paper);}
.ecm-title h3{font-family:var(--mono);font-size:9px;letter-spacing:3px;color:var(--accent);font-weight:500;}
.ecm-title p{font-size:15px;font-weight:600;color:var(--ink);margin-top:2px;}
.ecm-meta{display:flex;align-items:center;gap:10px;}
.ecm-timer{font-family:var(--mono);font-size:22px;color:var(--ink);min-width:34px;text-align:right;}
.ecm-timer.hot{color:var(--accent);animation:tBlink 0.45s infinite;}
@keyframes tBlink{50%{opacity:0.2;}}
.ecm-close{background:none;border:none;cursor:pointer;color:var(--dim);font-size:18px;line-height:1;padding:4px 6px;transition:color 0.15s;}
.ecm-close:hover{color:var(--accent);}
.ecm-dots{display:flex;gap:3px;padding:8px 18px;border-bottom:1px solid var(--mid);flex-wrap:wrap;background:white;}
.dot{width:7px;height:7px;border-radius:50%;background:var(--mid);transition:all 0.25s;}
.dot.done{background:var(--green);}
.dot.now{background:var(--accent);transform:scale(1.5);}
.ecm-body{padding:18px;flex:1;overflow-y:auto;}
.ecm-body::-webkit-scrollbar{width:3px;}
.ecm-body::-webkit-scrollbar-thumb{background:var(--mid);}
/* status */
.ec-status{display:none;font-family:var(--mono);font-size:10px;padding:7px 10px;margin-bottom:12px;letter-spacing:0.5px;border-radius:1px;}
.ec-status.err{display:block;background:#fff5f5;border-left:3px solid var(--accent);color:var(--accent);}
.ec-status.warn{display:block;background:#fffbf0;border-left:3px solid var(--yellow);color:#a07c00;}
.ec-status.ok{display:block;background:#f0fdf9;border-left:3px solid var(--green);color:var(--green);}
/* challenge base */
.ec-ch{display:none;}
.ec-ch.active{display:block;}
.ec-q{font-size:13px;color:#444;margin-bottom:12px;line-height:1.7;}
.ec-q strong{color:var(--ink);font-weight:600;}
.ec-in{width:100%;background:var(--paper);border:1px solid var(--mid);color:var(--ink);font-family:var(--mono);font-size:16px;padding:9px 12px;letter-spacing:4px;outline:none;border-radius:2px;transition:border-color 0.15s;margin-bottom:12px;}
.ec-in:focus{border-color:var(--ink);}
.ec-in.shake{animation:inShake 0.35s;border-color:var(--accent);}
@keyframes inShake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
.ec-canvas{display:block;width:100%;border:1px solid var(--mid);background:var(--paper);border-radius:1px;}
.ec-btn{width:100%;padding:11px;background:var(--ink);color:white;border:none;font-family:var(--mono);font-size:12px;letter-spacing:3px;cursor:pointer;border-radius:2px;transition:background 0.15s;margin-top:4px;}
.ec-btn:hover{background:#2d2a3e;}
/* grid */
.ec-grid{display:grid;gap:2px;margin-bottom:12px;}
.ec-cell{aspect-ratio:1;background:var(--paper);border:1.5px solid var(--mid);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.1s;position:relative;overflow:hidden;}
.ec-cell:hover{border-color:#999;}
.ec-cell.sel{border-color:var(--ink);background:rgba(26,24,37,0.05);}
.ec-cell.sel::after{content:'âœ“';position:absolute;bottom:1px;right:2px;font-family:var(--mono);font-size:7px;color:var(--ink);}
/* slider */
.ec-track{width:100%;height:42px;background:var(--paper);border:1px solid var(--mid);position:relative;cursor:pointer;border-radius:2px;overflow:hidden;margin-bottom:6px;}
.ec-track-fill{height:100%;background:var(--ink);opacity:0.08;width:0%;pointer-events:none;}
.ec-zone{position:absolute;top:0;bottom:0;background:rgba(253,203,110,0.4);border-left:2px solid var(--yellow);border-right:2px solid var(--yellow);pointer-events:none;}
.ec-thumb{position:absolute;top:8px;bottom:8px;width:4px;background:var(--ink);left:0%;transform:translateX(-50%);pointer-events:none;border-radius:2px;}
.ec-track-label{font-family:var(--mono);font-size:9px;color:var(--dim);text-align:center;margin-bottom:10px;}
/* sequence */
.ec-seq-canvas{display:block;width:100%;height:68px;border:1px solid var(--mid);background:var(--paper);border-radius:2px;margin-bottom:10px;user-select:none;-webkit-user-select:none;pointer-events:none;}
.ec-seq-prog{font-family:var(--mono);font-size:11px;color:var(--dim);margin-bottom:10px;}
.ec-seq-prog span{color:var(--ink);}
.ec-keypad{display:grid;grid-template-columns:repeat(5,1fr);gap:4px;margin-bottom:12px;}
.ec-key{background:var(--paper);border:1px solid var(--mid);color:var(--ink);font-family:var(--mono);font-size:16px;padding:9px 0;cursor:pointer;border-radius:2px;transition:all 0.1s;text-align:center;}
.ec-key:hover{background:var(--mid);}
.ec-key:active{background:var(--ink);color:white;}
/* math */
.ec-math{font-family:var(--mono);font-size:15px;color:var(--ink);text-align:center;padding:16px;background:var(--paper);border:1px solid var(--mid);margin-bottom:12px;white-space:pre-line;line-height:2;border-radius:2px;}
/* stroop */
.ec-stroop-word{font-size:40px;font-weight:700;text-align:center;margin-bottom:14px;}
.ec-color-row{display:flex;gap:6px;margin-bottom:12px;}
.ec-swatch{flex:1;height:48px;border:2px solid transparent;border-radius:2px;cursor:pointer;transition:transform 0.1s,border-color 0.1s;position:relative;}
.ec-swatch:hover{transform:scale(1.04);}
.ec-swatch.sel{border-color:var(--ink);}
.ec-swatch-label{position:absolute;bottom:3px;left:0;right:0;text-align:center;font-family:var(--mono);font-size:8px;color:rgba(0,0,0,0.4);}
/* dial */
.ec-dial-wrap{display:flex;justify-content:center;margin-bottom:10px;}
.ec-dial{width:140px;height:140px;border-radius:50%;border:2px solid var(--mid);position:relative;cursor:grab;background:var(--paper);display:flex;align-items:center;justify-content:center;user-select:none;}
.ec-dial:active{cursor:grabbing;}
.ec-dial-handle{position:absolute;width:12px;height:12px;background:var(--accent);border-radius:50%;pointer-events:none;}
.ec-dial-center{width:8px;height:8px;background:var(--ink);border-radius:50%;}
.ec-dial-hint{font-family:var(--mono);font-size:10px;color:var(--dim);text-align:center;margin-bottom:10px;}
.ec-dial-target{font-family:var(--mono);font-size:10px;color:#a07c00;background:#fffbf0;border:1px solid var(--yellow);padding:5px 10px;text-align:center;margin-bottom:10px;border-radius:2px;}
/* morse */
.ec-morse{font-family:var(--mono);font-size:16px;letter-spacing:3px;text-align:center;color:var(--ink);padding:14px;background:var(--paper);border:1px solid var(--mid);margin-bottom:12px;border-radius:2px;word-break:break-all;line-height:1.8;}
.ec-morse-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;margin-bottom:12px;}
.ec-morse-btn{background:var(--paper);border:1px solid var(--mid);color:var(--ink);font-family:var(--mono);font-size:18px;padding:12px 0;cursor:pointer;border-radius:2px;transition:all 0.1s;}
.ec-morse-btn:hover{background:var(--mid);}
.ec-morse-btn:active{background:var(--ink);color:white;}
/* reaction */
.ec-react-box{width:100%;height:130px;background:var(--paper);border:1px solid var(--mid);display:flex;align-items:center;justify-content:center;cursor:pointer;margin-bottom:8px;border-radius:2px;overflow:hidden;}
.ec-react-hint{font-family:var(--mono);font-size:10px;color:var(--dim);text-align:center;margin-bottom:10px;}
/* sort */
.ec-sort-slots{display:flex;gap:4px;margin-bottom:8px;}
.ec-sort-slot{flex:1;height:46px;border:1px dashed #ccc;border-radius:2px;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:15px;color:var(--dim);}
.ec-sort-slot.filled{border-style:solid;border-color:var(--ink);color:var(--ink);background:var(--paper);}
.ec-sort-items{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:12px;}
.ec-sort-num{background:var(--paper);border:1.5px solid var(--mid);color:var(--ink);font-family:var(--mono);font-size:15px;padding:9px 12px;cursor:pointer;border-radius:2px;transition:all 0.12s;}
.ec-sort-num:hover{background:var(--mid);}
.ec-sort-num.used{opacity:0.2;pointer-events:none;}
/* coord */
.ec-coord-hint{font-family:var(--mono);font-size:9px;color:var(--dim);text-align:center;margin-bottom:10px;}
/* binary / multi-choice */
.ec-mc-opts{display:grid;gap:5px;margin-bottom:12px;}
.ec-mc-btn{background:var(--paper);border:1px solid var(--mid);color:var(--ink);font-family:var(--mono);font-size:15px;padding:11px 0;cursor:pointer;border-radius:2px;transition:all 0.1s;text-align:center;}
.ec-mc-btn:hover{background:var(--mid);}
.ec-mc-btn:active{background:var(--ink);color:white;}
/* hex */
.ec-hex-display{font-family:var(--mono);font-size:26px;letter-spacing:4px;text-align:center;padding:18px;background:var(--paper);border:1px solid var(--mid);margin-bottom:12px;border-radius:2px;}
.ec-hex-swatches{display:flex;gap:6px;margin-bottom:12px;}
.ec-hex-swatch{flex:1;height:56px;border:2px solid transparent;border-radius:2px;cursor:pointer;transition:transform 0.1s,border-color 0.1s;}
.ec-hex-swatch:hover{transform:scale(1.04);}
.ec-hex-swatch.sel{border-color:var(--ink);}
/* wave opts */
.ec-wave-opts{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:12px;}
.ec-wave-opt{border:2px solid var(--mid);border-radius:2px;cursor:pointer;overflow:hidden;transition:border-color 0.1s;}
.ec-wave-opt:hover{border-color:#999;}
.ec-wave-opt.sel{border-color:var(--ink);}
/* pattern memory */
.ec-mem-grid{display:grid;gap:3px;margin-bottom:10px;}
.ec-mem-cell{aspect-ratio:1;border-radius:2px;transition:background 0.15s;}
.ec-mem-cell.on{background:var(--ink);}
.ec-mem-cell.off{background:var(--mid);}
.ec-mem-cell.inp{cursor:pointer;}
.ec-mem-cell.inp:hover{background:#888;}
.ec-mem-cell.inp.sel{background:var(--ink);}
/* tap target */
.ec-tap-box{width:100%;height:90px;background:var(--paper);border:1px solid var(--mid);border-radius:2px;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:13px;color:var(--dim);cursor:pointer;margin-bottom:8px;transition:background 0.05s;}
.ec-tap-box:active{background:var(--mid);}
.ec-tap-count{font-family:var(--mono);font-size:32px;text-align:center;color:var(--ink);margin-bottom:4px;}
.ec-tap-target{font-family:var(--mono);font-size:11px;text-align:center;color:var(--dim);margin-bottom:12px;}
/* sequence recall */
.ec-recall-display{font-family:var(--mono);font-size:13px;background:var(--paper);border:1px solid var(--mid);padding:12px;border-radius:2px;margin-bottom:10px;min-height:44px;display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap;}
.ec-recall-token{font-size:18px;font-weight:600;color:var(--ink);}
/* logic */
.ec-logic-box{background:var(--paper);border:1px solid var(--mid);border-radius:2px;padding:14px;margin-bottom:12px;font-family:var(--mono);font-size:13px;color:var(--ink);line-height:2;}
/* type */
.ec-type-display{font-family:var(--mono);font-size:24px;text-align:center;padding:16px;background:var(--paper);border:1px solid var(--mid);margin-bottom:8px;border-radius:2px;letter-spacing:5px;word-break:break-all;}
/* simon */
.ec-simon-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:12px;}
.ec-simon-btn{height:80px;border-radius:3px;cursor:pointer;border:none;transition:filter 0.1s;position:relative;}
.ec-simon-btn:active{filter:brightness(1.3);}
.ec-simon-label{position:absolute;bottom:6px;left:0;right:0;text-align:center;font-family:var(--mono);font-size:9px;opacity:0.5;color:white;}
/* double slider */
.ec-slider-label{font-family:var(--mono);font-size:9px;color:var(--dim);text-align:center;margin-bottom:8px;}
/* success */
.ec-success{display:none;text-align:center;padding:30px 0 10px;}
.ec-success .big-check{width:64px;height:64px;border-radius:50%;background:var(--green);display:flex;align-items:center;justify-content:center;margin:0 auto 14px;animation:sPop 0.4s cubic-bezier(0.175,0.885,0.32,1.4) forwards;}
@keyframes sPop{from{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}
.ec-success h3{font-size:18px;font-weight:600;color:var(--ink);margin-bottom:6px;}
.ec-success p{font-family:var(--mono);font-size:10px;color:var(--dim);letter-spacing:1px;}

/* â•â•â•â•â•â•â•â•â•â•â• DOCS â•â•â•â•â•â•â•â•â•â•â• */
#docs-page{display:none;width:100%;max-width:800px;animation:docsIn 0.4s ease;}
@keyframes docsIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:none}}
.docs-hero{background:var(--ink);color:white;padding:44px;border-radius:3px 3px 0 0;position:relative;overflow:hidden;}
.docs-hero::before{content:'';position:absolute;left:-30px;bottom:-30px;width:200px;height:200px;border-radius:50%;border:50px solid rgba(255,255,255,0.03);}
.docs-hero::after{content:'';position:absolute;right:-20px;top:-20px;width:150px;height:150px;border-radius:50%;border:35px solid rgba(255,255,255,0.04);}
.docs-hero-tag{font-family:var(--mono);font-size:10px;letter-spacing:3px;color:var(--accent);margin-bottom:12px;}
.docs-hero h1{font-size:36px;font-weight:600;margin-bottom:8px;letter-spacing:-1px;}
.docs-hero p{font-size:14px;color:rgba(255,255,255,0.45);line-height:1.7;}
.docs-body{background:white;border:1px solid var(--mid);border-top:none;border-radius:0 0 3px 3px;}
.docs-nav{display:flex;gap:0;border-bottom:1px solid var(--mid);overflow-x:auto;}
.docs-nav-btn{font-family:var(--mono);font-size:10px;letter-spacing:2px;color:var(--dim);padding:12px 18px;border:none;background:none;cursor:pointer;white-space:nowrap;border-bottom:2px solid transparent;margin-bottom:-1px;transition:color 0.15s,border-color 0.15s;}
.docs-nav-btn:hover{color:var(--ink);}
.docs-nav-btn.active{color:var(--ink);border-bottom-color:var(--ink);}
.docs-tab{display:none;padding:32px 40px;}
.docs-tab.active{display:block;}
.docs-section{margin-bottom:32px;}
.docs-section:last-child{margin-bottom:0;}
.docs-section h2{font-size:11px;font-family:var(--mono);letter-spacing:3px;color:var(--dim);text-transform:uppercase;margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid var(--mid);}
.docs-section p,.docs-section li{font-size:14px;color:#444;line-height:1.8;}
.docs-section ul{padding-left:20px;margin-bottom:10px;}
.docs-badge-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;}
.docs-badge{font-family:var(--mono);font-size:10px;padding:4px 10px;border-radius:99px;border:1px solid var(--mid);color:var(--dim);}
.docs-badge.green{border-color:var(--green);color:var(--green);background:#f0fdf9;}
/* code block */
.docs-code-wrap{background:var(--ink);border-radius:3px;overflow:hidden;margin-bottom:16px;}
.docs-code-head{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid rgba(255,255,255,0.06);}
.docs-code-lang{font-family:var(--mono);font-size:9px;letter-spacing:2px;color:rgba(255,255,255,0.3);}
.docs-copy-btn{font-family:var(--mono);font-size:9px;letter-spacing:1px;color:rgba(255,255,255,0.35);background:none;border:1px solid rgba(255,255,255,0.12);border-radius:2px;padding:4px 10px;cursor:pointer;transition:all 0.15s;}
.docs-copy-btn:hover{color:white;border-color:rgba(255,255,255,0.35);}
.docs-copy-btn.copied{color:var(--green);border-color:var(--green);}
.docs-code{font-family:var(--mono);font-size:12px;color:#c8dff0;padding:14px;white-space:pre;overflow-x:auto;line-height:1.75;max-height:400px;}
.docs-code .kw{color:#74b9ff;}.docs-code .str{color:#a8e6cf;}.docs-code .cmt{color:rgba(255,255,255,0.22);font-style:italic;}.docs-code .fn{color:#ffeaa7;}.docs-code .num{color:#fd79a8;}.docs-code .at{color:#e17055;}
/* api table */
.docs-table{width:100%;border-collapse:collapse;font-size:13px;margin-bottom:10px;}
.docs-table th{font-family:var(--mono);font-size:9px;letter-spacing:2px;color:var(--dim);text-align:left;padding:8px 12px;border-bottom:1px solid var(--mid);font-weight:500;}
.docs-table td{padding:10px 12px;border-bottom:1px solid var(--mid);color:#444;vertical-align:top;}
.docs-table tr:last-child td{border-bottom:none;}
.docs-table td:first-child{font-family:var(--mono);font-size:12px;color:var(--ink);white-space:nowrap;}
.docs-table td code{font-family:var(--mono);font-size:11px;background:var(--paper);padding:2px 6px;border-radius:2px;color:var(--blue);}
/* challenge list */
.challenge-list{display:flex;flex-direction:column;gap:6px;}
.challenge-row{display:flex;gap:0;border:1px solid var(--mid);border-radius:2px;overflow:hidden;}
.challenge-num{font-family:var(--mono);font-size:11px;color:white;background:var(--ink);padding:8px 12px;display:flex;align-items:center;justify-content:center;min-width:42px;}
.challenge-name{font-family:var(--mono);font-size:12px;color:var(--ink);background:var(--paper);padding:8px 14px;min-width:160px;border-right:1px solid var(--mid);display:flex;align-items:center;}
.challenge-desc{font-size:13px;color:#555;padding:8px 14px;display:flex;align-items:center;}
.challenge-tag{font-family:var(--mono);font-size:9px;padding:2px 8px;border-radius:99px;margin-left:auto;flex-shrink:0;align-self:center;}
.tag-memory{background:#f0f7ff;color:#0984e3;border:1px solid #74b9ff;}
.tag-logic{background:#f5f0ff;color:#6c5ce7;border:1px solid #a29bfe;}
.tag-endure{background:#fff5f5;color:var(--accent);border:1px solid #fab1a0;}
.tag-trick{background:#fffbf0;color:#a07c00;border:1px solid var(--yellow);}
.tag-skill{background:#f0fdf9;color:#00b894;border:1px solid #55efc4;}
/* steps */
.docs-steps{display:flex;flex-direction:column;gap:10px;}
.docs-step{display:flex;gap:14px;align-items:flex-start;}
.docs-step-num{font-family:var(--mono);font-size:11px;color:white;background:var(--ink);width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:1px;}
.docs-step-text{font-size:14px;color:#444;line-height:1.7;}
.docs-step-text strong{color:var(--ink);}
</style>
</head>
<body>

<div class="page-label" id="page-label">WT*Rcaâ„¢ â€” widget embed demo<br>This page was created using AI</div>

<div class="demo-card" id="demo-card">
  <h2>æ–°è¦ç™»éŒ²</h2>
  <div class="sub">å…¨35å•ã‚¯ãƒªã‚¢ã—ã¦ã€Œç™»éŒ²ã™ã‚‹ã€ã‚’æŠ¼ã™ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒé–‹ãã¾ã™</div>
  <div class="field">
    <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ </label>
    <input type="text" id="username-inp" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã‚’å…¥åŠ›..." autocomplete="off">
  </div>
  <div class="field">
    <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
    <input type="password" id="pw-inp" value="wt_rca_demo_2026!" readonly>
    <div class="field-hint">PASSWORD IS PRE-FILLED â€” READ ONLY</div>
  </div>
  <div class="ecw" id="ecw" onclick="ecOpen()">
    <div class="ecw-box" id="ecw-box">
      <div class="spin"></div>
      <svg width="13" height="11" viewBox="0 0 13 11" fill="none"><polyline points="1,5.5 5,9.5 12,1" stroke="#00b894" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </div>
    <div class="ecw-text">
      <div class="main" id="ecw-label">ç§ã¯ãƒ­ãƒœãƒƒãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“</div>
      <div class="sub2" id="ecw-sub">WT*Rca v4.0</div>
    </div>
    <div class="ecw-badge">
      <div class="ecw-badge-icon">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="2" y="2" width="5" height="5" fill="white" opacity="0.9"/><rect x="9" y="2" width="5" height="5" fill="white" opacity="0.9"/><rect x="2" y="9" width="5" height="5" fill="white" opacity="0.9"/><rect x="10" y="10" width="3" height="3" fill="white" opacity="0.9"/></svg>
      </div>
      <div class="ecw-badge-label">WT*Rca</div>
    </div>
  </div>
  <button class="submit" id="submit-btn" disabled onclick="submitForm()">ç™»éŒ²ã™ã‚‹</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â• MODAL â•â•â•â•â•â•â•â•â•â•â• -->
<div class="eco" id="eco">
  <div class="ecm">
    <div class="ecm-head">
      <div class="ecm-title">
        <h3>WHAT THE F*** RECAPTCHA PROTOCOL</h3>
        <p id="ecm-name">â€”</p>
      </div>
      <div class="ecm-meta">
        <div class="ecm-timer" id="ecm-timer">â€”</div>
        <button class="ecm-close" onclick="ecClose()">âœ•</button>
      </div>
    </div>
    <div class="ecm-dots" id="ecm-dots"></div>
    <div class="ecm-body">
      <div class="ec-status" id="ec-status"></div>

      <div class="ec-ch" id="ec1">
        <div class="ec-q">æ­ªã‚“ã æ–‡å­—ã‚’èª­ã‚“ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br><small style="color:var(--dim)">ã‚¯ãƒªãƒƒã‚¯ã§å†ç”Ÿæˆ / âˆ’2ç§’ãƒšãƒŠãƒ«ãƒ†ã‚£</small></div>
        <canvas class="ec-canvas" id="c1-cv" height="90" style="cursor:pointer;margin-bottom:5px;"></canvas>
        <div style="font-family:var(--mono);font-size:9px;color:var(--dim);text-align:right;margin-bottom:10px;">CLICK TO REFRESH (â€“2s)</div>
        <input class="ec-in" id="c1-in" placeholder="å…¥åŠ›..." maxlength="8" autocomplete="off" spellcheck="false">
        <button class="ec-btn" onclick="chkC1()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec2">
        <div class="ec-q" id="c2-q"></div>
        <div class="ec-grid" id="c2-grid" style="grid-template-columns:repeat(6,1fr)"></div>
        <button class="ec-btn" onclick="chkC2()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec3">
        <div class="ec-q">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’<strong>é»„è‰²ã®ã‚¾ãƒ¼ãƒ³</strong>ã«åˆã‚ã›ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> ã‚¾ãƒ¼ãƒ³å¹…5%</small></div>
        <div class="ec-track" id="c3-track"><div class="ec-track-fill" id="c3-fill"></div><div class="ec-zone" id="c3-zone"></div><div class="ec-thumb" id="c3-thumb"></div></div>
        <div class="ec-track-label">ãƒ‰ãƒ©ãƒƒã‚° or ã‚¯ãƒªãƒƒã‚¯</div>
        <button class="ec-btn" onclick="chkC3()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec4">
        <div class="ec-q">æ•°åˆ—ã‚’<strong>é€†é †</strong>ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> 3ç§’ã§æ¶ˆãˆã¾ã™</small></div>
        <canvas class="ec-seq-canvas" id="c4-cv" height="68"></canvas>
        <div class="ec-seq-prog">å…¥åŠ›: <span id="c4-entered">â€”</span></div>
        <div class="ec-keypad" id="c4-keys"></div>
      </div>

      <div class="ec-ch" id="ec5">
        <div class="ec-q">è¨ˆç®—çµæœã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-math" id="c5-math"></div>
        <input class="ec-in" type="number" id="c5-in" placeholder="ç­”ãˆ..." style="letter-spacing:2px;">
        <button class="ec-btn" onclick="chkC5()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec6">
        <div class="ec-q">æ–‡å­—ãŒç¤ºã™<strong>è‰²å</strong>ã¨ä¸€è‡´ã™ã‚‹è‰²ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚<small style="color:var(--dim)">ï¼ˆã‚¹ãƒˆãƒ«ãƒ¼ãƒ—åŠ¹æœï¼‰</small></div>
        <div class="ec-stroop-word" id="c6-word"></div>
        <div class="ec-color-row" id="c6-swatches"></div>
        <button class="ec-btn" onclick="chkC6()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec7">
        <div class="ec-q">èµ¤ã„ç‚¹ã‚’æŒ‡å®šã®è§’åº¦ã«å›ã—ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-dial-target" id="c7-target-label"></div>
        <div class="ec-dial-wrap"><div class="ec-dial" id="c7-dial"><div class="ec-dial-handle" id="c7-handle"></div><div class="ec-dial-center"></div></div></div>
        <div class="ec-dial-hint" id="c7-hint">0Â°</div>
        <button class="ec-btn" onclick="chkC7()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec8">
        <div class="ec-q">ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’è§£èª­ã—ã¦æ•°å­—ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</div>
        <div class="ec-morse" id="c8-morse"></div>
        <div class="ec-morse-grid" id="c8-opts"></div>
      </div>

      <div class="ec-ch" id="ec9">
        <div class="ec-q">ã‚°ãƒ©ãƒ•ä¸Šã®<strong>èµ¤ã„ Ã— å°</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> Â±12px</small></div>
        <canvas id="c9-cv" style="display:block;width:100%;height:200px;background:var(--paper);border:1px solid var(--mid);border-radius:2px;margin-bottom:8px;cursor:crosshair;" width="480" height="200"></canvas>
        <div class="ec-coord-hint" id="c9-hint">ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯</div>
        <button class="ec-btn" onclick="chkC9()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec10">
        <div class="ec-q">æ•°å­—ã‚’<strong>å°ã•ã„é †</strong>ã«ã‚¿ãƒƒãƒ—ã—ã¦ä¸¦ã¹ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-sort-slots" id="c10-slots"></div>
        <div class="ec-sort-items" id="c10-items"></div>
        <button class="ec-btn" onclick="chkC10()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec11">
        <div class="ec-q">å››è§’ãŒ<strong>èµ¤ããªã£ãŸã‚‰</strong>ã™ãã‚¯ãƒªãƒƒã‚¯ï¼<small style="color:var(--dim)"> ãƒ•ã‚§ã‚¤ã‚¯ã‚ã‚Š</small></div>
        <div class="ec-react-box" id="c11-box" onclick="reactClick()"><canvas id="c11-cv" width="460" height="118"></canvas></div>
        <div class="ec-react-hint" id="c11-hint">å¾…æ©Ÿä¸­...</div>
      </div>

      <div class="ec-ch" id="ec12">
        <div class="ec-q">2é€²æ•°ã‚’10é€²æ•°ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-binary" id="c12-bin" style="font-family:var(--mono);font-size:22px;letter-spacing:4px;text-align:center;padding:14px;background:var(--paper);border:1px solid var(--mid);margin-bottom:12px;border-radius:2px;"></div>
        <div class="ec-mc-opts" id="c12-opts" style="grid-template-columns:repeat(4,1fr);"></div>
      </div>

      <div class="ec-ch" id="ec13">
        <div class="ec-q">HEXã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã«ä¸€è‡´ã™ã‚‹è‰²ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</div>
        <div class="ec-hex-display" id="c13-hex"></div>
        <div class="ec-hex-swatches" id="c13-swatches"></div>
        <button class="ec-btn" onclick="chkC13()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec14">
        <div class="ec-q">ä¸Šã®æ³¢å½¢ã¨<strong>åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</div>
        <canvas id="c14-target" style="display:block;width:100%;height:90px;border:1px solid var(--mid);background:var(--paper);border-radius:2px;margin-bottom:10px;" width="460" height="90"></canvas>
        <div class="ec-wave-opts" id="c14-opts"></div>
        <button class="ec-btn" id="c14-btn" onclick="chkC14()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec15">
        <div class="ec-q" id="c15-q"></div>
        <canvas id="c15-cv" style="display:block;width:100%;height:200px;border:1px solid var(--mid);background:var(--paper);border-radius:2px;margin-bottom:12px;" height="200"></canvas>
        <div class="ec-mc-opts" id="c15-opts" style="grid-template-columns:repeat(4,1fr);"></div>
      </div>

      <div class="ec-ch" id="ec16">
        <div class="ec-q">ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’<strong>30ç§’é–“è¨˜æ†¶</strong>ã—ã¦ã€æ¶ˆãˆãŸã‚‰åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å†ç¾ã—ã¦ãã ã•ã„ã€‚</div>
        <div style="font-family:var(--mono);font-size:10px;color:var(--dim);margin-bottom:8px;" id="c16-phase">è¨˜æ†¶ä¸­...</div>
        <div class="ec-mem-grid" id="c16-grid" style="grid-template-columns:repeat(5,1fr);max-width:250px;margin:0 auto 12px;"></div>
        <button class="ec-btn" id="c16-btn" onclick="chkC16()" style="display:none;">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec17">
        <div class="ec-q">ç›®æ¨™å›æ•°ã ã‘<strong>ã‚¿ãƒƒãƒ—</strong>ã—ã¦ãã ã•ã„ã€‚ã´ã£ãŸã‚Šã§æ­¢ã‚ã‚‹ã“ã¨ï¼</div>
        <div class="ec-tap-count" id="c17-count">0</div>
        <div class="ec-tap-target" id="c17-target-label">ç›®æ¨™: â€”</div>
        <div class="ec-tap-box" id="c17-tap" onclick="tapIt()">TAP HERE</div>
        <button class="ec-btn" onclick="chkC17()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec18">
        <div class="ec-q">è¡¨ç¤ºã•ã‚ŒãŸè‰²ã®é †ç•ªã‚’<strong>è¨˜æ†¶</strong>ã—ã¦åŒã˜é †ã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚</div>
        <div style="font-family:var(--mono);font-size:10px;color:var(--dim);margin-bottom:10px;" id="c18-phase">ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å†ç”Ÿä¸­...</div>
        <div class="ec-simon-grid" id="c18-grid"></div>
        <div style="font-family:var(--mono);font-size:11px;color:var(--dim);text-align:center;margin-bottom:10px;">å…¥åŠ›: <span id="c18-progress">â€”</span></div>
      </div>

      <div class="ec-ch" id="ec19">
        <div class="ec-q">è«–ç†ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-logic-box" id="c19-logic"></div>
        <div class="ec-mc-opts" id="c19-opts" style="grid-template-columns:1fr 1fr;"></div>
      </div>

      <div class="ec-ch" id="ec20">
        <div class="ec-q">è¨˜å·æ··ã˜ã‚Šã®æ–‡å­—åˆ—ã‚’ã‚¿ã‚¤ãƒ—ã—ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯</small></div>
        <div class="ec-type-display" id="c20-target"></div>
        <div style="font-family:var(--mono);font-size:9px;color:var(--dim);text-align:center;margin-bottom:10px;">å¤§æ–‡å­—å°æ–‡å­—ãƒ»è¨˜å·ã™ã¹ã¦ä¸€è‡´</div>
        <input class="ec-in" id="c20-in" placeholder="ã‚¿ã‚¤ãƒ—..." autocomplete="off" spellcheck="false" style="letter-spacing:3px;">
        <button class="ec-btn" onclick="chkC20()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec21">
        <div class="ec-q"><strong>2æœ¬ã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</strong>ã‚’åŒæ™‚ã«æŒ‡å®šã‚¾ãƒ¼ãƒ³ã¸åˆã‚ã›ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-track" id="c21a-track" style="margin-bottom:4px;"><div class="ec-track-fill" id="c21a-fill"></div><div class="ec-zone" id="c21a-zone"></div><div class="ec-thumb" id="c21a-thumb"></div></div>
        <div class="ec-slider-label">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ A</div>
        <div class="ec-track" id="c21b-track" style="margin-bottom:4px;"><div class="ec-track-fill" id="c21b-fill"></div><div class="ec-zone" id="c21b-zone"></div><div class="ec-thumb" id="c21b-thumb"></div></div>
        <div class="ec-slider-label">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ B</div>
        <button class="ec-btn" onclick="chkC21()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec22">
        <div class="ec-q">æ•°åˆ—ã®<strong>æ¬¡ã®æ•°</strong>ã‚’ç­”ãˆã¦ãã ã•ã„ã€‚</div>
        <div class="ec-math" id="c22-seq"></div>
        <div class="ec-mc-opts" id="c22-opts" style="grid-template-columns:repeat(4,1fr);"></div>
      </div>

      <div class="ec-ch" id="ec23">
        <div class="ec-q">ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é †ç•ªé€šã‚Šã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> ä½ç½®ã‚’è¦šãˆã‚‹</small></div>
        <div style="font-family:var(--mono);font-size:10px;color:var(--dim);margin-bottom:8px;" id="c23-phase">æº–å‚™ä¸­...</div>
        <div class="ec-mem-grid" id="c23-grid" style="grid-template-columns:repeat(4,1fr);max-width:220px;margin:0 auto 12px;gap:4px;"></div>
        <div style="font-family:var(--mono);font-size:11px;color:var(--dim);text-align:center;margin-bottom:10px;">å…¥åŠ›é †: <span id="c23-prog">â€”</span></div>
      </div>

      <div class="ec-ch" id="ec24">
        <div class="ec-q">ã‚°ãƒ©ãƒ•ã®<strong>2ã¤ã® Ã— å°</strong>ã‚’é †ç•ªã«ï¼ˆèµ¤â†’é’ï¼‰ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> Â±14px</small></div>
        <canvas id="c24-cv" style="display:block;width:100%;height:210px;background:var(--paper);border:1px solid var(--mid);border-radius:2px;margin-bottom:8px;cursor:crosshair;" width="480" height="210"></canvas>
        <div class="ec-coord-hint" id="c24-hint">èµ¤ã„ Ã— ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„</div>
        <button class="ec-btn" onclick="chkC24()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec25">
        <div class="ec-q">æŒ‡å®šã•ã‚ŒãŸæ™‚é–“ï¼ˆç§’ï¼‰ã‚’<strong>è‡ªåˆ†ã§ã‚«ã‚¦ãƒ³ãƒˆ</strong>ã—ã¦ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> Â±0.8ç§’ä»¥å†…</small></div>
        <div class="ec-type-display" id="c25-target-label" style="font-size:42px;letter-spacing:0;"></div>
        <div style="font-family:var(--mono);font-size:10px;color:var(--dim);text-align:center;margin-bottom:12px;">ç§’å¾Œã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™</div>
        <button class="ec-btn" id="c25-btn" onclick="chkC25()">NOW</button>
      </div>

      <div class="ec-ch" id="ec26">
        <div class="ec-q">ç¹°ã‚Šè¿”ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®<strong>æŠœã‘ã¦ã„ã‚‹éƒ¨åˆ†</strong>ã‚’ç­”ãˆã¦ãã ã•ã„ã€‚</div>
        <div class="ec-logic-box" id="c26-pattern"></div>
        <div class="ec-mc-opts" id="c26-opts" style="grid-template-columns:repeat(4,1fr);"></div>
      </div>

      <div class="ec-ch" id="ec27">
        <div class="ec-q">3æšã®ã‚«ãƒ¼ãƒ‰ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¾ã™ã€‚<strong>èµ¤ã„ã‚«ãƒ¼ãƒ‰</strong>ã‚’è¿½ã£ã¦ãã ã•ã„ã€‚</div>
        <canvas id="c27-cv" style="display:block;width:100%;height:160px;border:1px solid var(--mid);background:var(--paper);border-radius:2px;margin-bottom:10px;" width="460" height="160"></canvas>
        <div style="font-family:var(--mono);font-size:10px;color:var(--dim);text-align:center;margin-bottom:10px;" id="c27-hint">ã‚·ãƒ£ãƒƒãƒ•ãƒ«ä¸­...</div>
        <div style="display:flex;gap:6px;margin-bottom:12px;" id="c27-btns"></div>
      </div>

      <div class="ec-ch" id="ec28">
        <div class="ec-q">é¡åƒï¼ˆæ°´å¹³åè»¢ï¼‰ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</div>
        <div id="c28-wrap" style="margin-bottom:12px;"></div>
      </div>

      <div class="ec-ch" id="ec29">
        <div class="ec-q">æŒ‡å®šå›æ•°ã ã‘<strong>é€£æ‰“</strong>ã—ã¦ãã ã•ã„ã€‚ã‚¸ãƒ£ã‚¹ãƒˆï¼<small style="color:var(--dim)"> è¶…ãˆãŸã‚‰å¤±æ•—</small></div>
        <div class="ec-tap-count" id="c29-count">0</div>
        <div class="ec-tap-target" id="c29-target-label">ç›®æ¨™: â€”</div>
        <div class="ec-tap-box" id="c29-tap" onclick="tapC29()">SPAM HERE</div>
        <button class="ec-btn" onclick="chkC29()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec30">
        <div class="ec-q">èµ¤ç‚¹ãŒç¾ã‚Œã¦ã‹ã‚‰<strong>ã¡ã‚‡ã†ã©æŒ‡å®šç§’å¾Œ</strong>ã«ã‚¯ãƒªãƒƒã‚¯ã€‚<small style="color:var(--dim)"> Â±0.6ç§’</small></div>
        <div class="ec-react-box" id="c30-box" style="cursor:default;flex-direction:column;gap:8px;">
          <canvas id="c30-cv" width="460" height="60"></canvas>
          <div style="font-family:var(--mono);font-size:11px;color:var(--dim);" id="c30-sub">â€”</div>
        </div>
        <div style="margin-top:8px;"><button class="ec-btn" id="c30-click-btn" onclick="chkC30()" disabled>CLICK NOW</button></div>
      </div>

      <div class="ec-ch" id="ec31">
        <div class="ec-q">16é€²æ•°ã‚’10é€²æ•°ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-hex-display" id="c31-hex" style="font-size:30px;"></div>
        <div class="ec-mc-opts" id="c31-opts" style="grid-template-columns:repeat(4,1fr);"></div>
      </div>

      <div class="ec-ch" id="ec32">
        <div class="ec-q">è¡¨ç¤ºã•ã‚ŒãŸæ•°å­—ã‚’<strong>3ç§’ã§è¦šãˆã¦</strong>ã‹ã‚‰ã€æ˜‡é †ã«ä¸¦ã¹ã¦ãã ã•ã„ã€‚<small style="color:var(--dim)"> æ¶ˆãˆãŸã‚‰ä¸¦ã¹ã‚‹</small></div>
        <canvas class="ec-seq-canvas" id="c32-cv" height="68" style="margin-bottom:10px;"></canvas>
        <div style="font-family:var(--mono);font-size:10px;color:var(--dim);margin-bottom:8px;" id="c32-phase">è¨˜æ†¶ä¸­...</div>
        <div class="ec-sort-slots" id="c32-slots"></div>
        <div class="ec-sort-items" id="c32-items"></div>
        <button class="ec-btn" id="c32-btn" onclick="chkC32()" style="display:none;">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec33">
        <div class="ec-q">æ¡ä»¶ã‚’èª­ã‚“ã§ç­”ãˆã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</div>
        <div class="ec-logic-box" id="c33-logic"></div>
        <div class="ec-mc-opts" id="c33-opts" style="grid-template-columns:1fr 1fr;"></div>
      </div>

      <div class="ec-ch" id="ec34">
        <div class="ec-q"><strong>3æœ¬ã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</strong>ã‚’å…¨éƒ¨åŒæ™‚ã«æŒ‡å®šã‚¾ãƒ¼ãƒ³ã¸åˆã‚ã›ã¦ãã ã•ã„ã€‚</div>
        <div class="ec-track" id="c34a-track" style="margin-bottom:4px;"><div class="ec-track-fill" id="c34a-fill"></div><div class="ec-zone" id="c34a-zone"></div><div class="ec-thumb" id="c34a-thumb"></div></div>
        <div class="ec-slider-label">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ A</div>
        <div class="ec-track" id="c34b-track" style="margin-bottom:4px;"><div class="ec-track-fill" id="c34b-fill"></div><div class="ec-zone" id="c34b-zone"></div><div class="ec-thumb" id="c34b-thumb"></div></div>
        <div class="ec-slider-label">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ B</div>
        <div class="ec-track" id="c34c-track" style="margin-bottom:4px;"><div class="ec-track-fill" id="c34c-fill"></div><div class="ec-zone" id="c34c-zone"></div><div class="ec-thumb" id="c34c-thumb"></div></div>
        <div class="ec-slider-label">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ C</div>
        <button class="ec-btn" onclick="chkC34()">VERIFY</button>
      </div>

      <div class="ec-ch" id="ec35">
        <div class="ec-q">ãƒ©ãƒ³ãƒ€ãƒ ãªé€Ÿã•ã§æµã‚Œã‚‹<strong>ã™ã¹ã¦ã®ãƒœã‚¿ãƒ³</strong>ã‚’é€ƒã•ãšã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼<small style="color:var(--dim)"> å…¨éƒ¨ã‚¯ãƒªãƒƒã‚¯ã§æˆåŠŸ</small></div>
        <canvas id="c35-cv" style="display:block;width:100%;height:220px;border:1px solid var(--mid);background:var(--paper);border-radius:2px;margin-bottom:8px;cursor:pointer;" height="220"></canvas>
        <div style="font-family:var(--mono);font-size:11px;color:var(--dim);text-align:center;margin-bottom:10px;">æ®‹ã‚Š: <span id="c35-remain">â€”</span></div>
      </div>

      <div class="ec-success" id="ec-success">
        <div class="big-check"><svg width="28" height="22" viewBox="0 0 28 22" fill="none"><polyline points="2,11 10,19 26,2" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
        <h3>ç¢ºèªå®Œäº†</h3>
        <p>HUMAN_CONFIRMED // WT*Rcaâ„¢ v4.0</p>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â• DOCS PAGE â•â•â•â•â•â•â•â•â•â•â• -->
<div id="docs-page">
  <div class="docs-hero">
    <div class="docs-hero-tag">DOCUMENTATION v4.0</div>
    <h1>WT*Rcaâ„¢</h1>
    <p>What The F*** Recaptcha â€” å…¨35å•ã®äººé–“ç¢ºèªãƒ—ãƒ­ãƒˆã‚³ãƒ«<br>ä¾å­˜ã‚¼ãƒ­ãƒ»å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒãƒ‹ãƒ©JS + Canvas API</p>
  </div>
  <div class="docs-body">
    <div class="docs-nav" id="docs-nav">
      <button class="docs-nav-btn active" onclick="switchTab('overview')">æ¦‚è¦</button>
      <button class="docs-nav-btn" onclick="switchTab('embed')">åŸ‹ã‚è¾¼ã¿æ–¹æ³•</button>
      <button class="docs-nav-btn" onclick="switchTab('api')">API / ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</button>
      <button class="docs-nav-btn" onclick="switchTab('challenges')">ãƒãƒ£ãƒ¬ãƒ³ã‚¸ä¸€è¦§</button>
    </div>

    <!-- TAB: OVERVIEW -->
    <div class="docs-tab active" id="tab-overview">
      <div class="docs-section">
        <h2>WT*Rcaâ„¢ ã¨ã¯</h2>
        <p>WT*Rcaâ„¢ï¼ˆWhat The F*** Recaptchaï¼‰ã¯ã€é€šå¸¸ã®ã‚¦ã‚§ãƒ–ãƒ•ã‚©ãƒ¼ãƒ ã«åŸ‹ã‚è¾¼ã¿å¯èƒ½ãª<strong>ç†ä¸å°½ãƒ¬ãƒ™ãƒ«ã®CAPTCHAã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ</strong>ã§ã™ã€‚Google reCAPTCHAã®UIã‚’æ¨¡å€£ã—ã¤ã¤ã€å…¨35å•ã®ãƒ©ãƒ³ãƒ€ãƒ ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’çªç ´ã—ãªã„ã¨èªè¨¼ãŒå®Œäº†ã—ã¾ã›ã‚“ã€‚</p>
        <p>1å•ã§ã‚‚ãƒŸã‚¹ãƒ»ã‚¿ã‚¤ãƒ ã‚ªãƒ¼ãƒãƒ¼ã™ã‚‹ã¨<strong>æœ€åˆã‹ã‚‰å…¨å•ã‚„ã‚Šç›´ã—</strong>ã«ãªã‚Šã¾ã™ã€‚</p>
        <div class="docs-badge-row">
          <span class="docs-badge green">ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¼ãƒ­</span>
          <span class="docs-badge green">å˜ä¸€HTMLãƒ•ã‚¡ã‚¤ãƒ«</span>
          <span class="docs-badge">Canvas APIæç”»</span>
          <span class="docs-badge">å…¨35å•ãƒ©ãƒ³ãƒ€ãƒ å‡ºé¡Œ</span>
          <span class="docs-badge">ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ</span>
          <span class="docs-badge">ã‚³ãƒ”ãƒšã§åŸ‹ã‚è¾¼ã¿å¯</span>
        </div>
      </div>
      <div class="docs-section">
        <h2>ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¸ãƒ£ãƒ³ãƒ«</h2>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <span class="docs-badge" style="background:#f0fdf9;color:#00b894;border-color:#55efc4;">ğŸ¯ ã‚¹ã‚­ãƒ«ç³» â€” ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãƒ»ãƒ€ã‚¤ãƒ¤ãƒ«ãƒ»ã‚¯ãƒªãƒƒã‚¯ç²¾åº¦</span>
          <span class="docs-badge" style="background:#f0f7ff;color:#0984e3;border-color:#74b9ff;">ğŸ§  è¨˜æ†¶ç³» â€” æ•°åˆ—ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ã‚·ãƒ¼ãƒ¢ãƒ³</span>
          <span class="docs-badge" style="background:#f5f0ff;color:#6c5ce7;border-color:#a29bfe;">ğŸ”¢ è«–ç†ç³» â€” æ•°åˆ—ãƒ»è«–ç†ãƒ‘ã‚ºãƒ«ãƒ»é€²æ•°å¤‰æ›</span>
          <span class="docs-badge" style="background:#fff5f5;color:var(--accent);border-color:#fab1a0;">ğŸ’¥ ä½“åŠ›ç³» â€” é€£æ‰“ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ãƒ»ç§»å‹•ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</span>
          <span class="docs-badge" style="background:#fffbf0;color:#a07c00;border-color:var(--yellow);">ğŸ˜µ ãƒˆãƒªãƒƒã‚¯ç³» â€” ã‚¹ãƒˆãƒ«ãƒ¼ãƒ—ãƒ»é¡åƒãƒ»ã‚·ãƒ£ãƒƒãƒ•ãƒ«</span>
        </div>
      </div>
      <div class="docs-section">
        <h2>èªè¨¼ãƒ•ãƒ­ãƒ¼</h2>
        <div class="docs-steps">
          <div class="docs-step"><div class="docs-step-num">1</div><div class="docs-step-text">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ <code style="font-family:var(--mono);font-size:12px;background:var(--paper);padding:2px 6px;border-radius:2px;">ecOpen()</code> ãŒå‘¼ã°ã‚Œãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º</div></div>
          <div class="docs-step"><div class="docs-step-num">2</div><div class="docs-step-text">35å•ãŒãƒ©ãƒ³ãƒ€ãƒ é †ã§å‡ºé¡Œã€‚ã‚¿ã‚¤ãƒãƒ¼è¡¨ç¤ºã‚ã‚Šã€æ™‚é–“åˆ‡ã‚Œãƒ»èª¤ç­”ã§å•1ã«æˆ»ã‚‹</div></div>
          <div class="docs-step"><div class="docs-step-num">3</div><div class="docs-step-text">å…¨å•ã‚¯ãƒªã‚¢ â†’ <code style="font-family:var(--mono);font-size:12px;background:var(--paper);padding:2px 6px;border-radius:2px;">onVerified()</code> ãŒå‘¼ã°ã‚Œã‚‹ã€‚ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒãƒã‚§ãƒƒã‚¯æ¸ˆã¿çŠ¶æ…‹ã«</div></div>
          <div class="docs-step"><div class="docs-step-num">4</div><div class="docs-step-text">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œç™»éŒ²ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ <code style="font-family:var(--mono);font-size:12px;background:var(--paper);padding:2px 6px;border-radius:2px;">submitForm()</code> ã§ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†</div></div>
        </div>
      </div>
    </div>

    <!-- TAB: EMBED -->
    <div class="docs-tab" id="tab-embed">
      <div class="docs-section">
        <h2>Step 1 â€” ãƒ•ã‚©ãƒ³ãƒˆã®èª­ã¿è¾¼ã¿</h2>
        <p>&lt;head&gt; å†…ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">HTML</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="cmt">&lt;!-- Google Fonts: DM Sans + IBM Plex Mono --&gt;</span>
<span class="kw">&lt;link</span> <span class="at">rel</span>=<span class="str">"preconnect"</span> <span class="at">href</span>=<span class="str">"https://fonts.googleapis.com"</span><span class="kw">&gt;</span>
<span class="kw">&lt;link</span> <span class="at">rel</span>=<span class="str">"preconnect"</span> <span class="at">href</span>=<span class="str">"https://fonts.gstatic.com"</span> <span class="at">crossorigin</span><span class="kw">&gt;</span>
<span class="kw">&lt;link</span> <span class="at">href</span>=<span class="str">"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&amp;family=IBM+Plex+Mono:wght@400;500&amp;display=swap"</span> <span class="at">rel</span>=<span class="str">"stylesheet"</span><span class="kw">&gt;</span></div>
        </div>
      </div>
      <div class="docs-section">
        <h2>Step 2 â€” CSS ã®è¿½åŠ </h2>
        <p>WT*Rca ã® CSS ã‚’ã™ã¹ã¦ &lt;style&gt; ã‚¿ã‚°å†…ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã® <code style="font-family:var(--mono);font-size:12px;background:var(--paper);padding:2px 6px;border-radius:2px;">&lt;style&gt;...&lt;/style&gt;</code> ãƒ–ãƒ­ãƒƒã‚¯å…¨ä½“ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚</p>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">HTML (æŠœç²‹)</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="kw">&lt;style&gt;</span>
<span class="cmt">  /* WT*Rca styles â€” é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã®å…¨ CSS ã‚’ã“ã“ã« */</span>
  @import url(<span class="str">'https://fonts.googleapis.com/...'</span>);
  :root { --ink: <span class="num">#1a1825</span>; --paper: <span class="num">#f5f2ed</span>; ... }
  .ecw { ... }
  .eco { ... }
  .ecm { ... }
  <span class="cmt">/* ä»¥ä¸‹çœç•¥ */</span>
<span class="kw">&lt;/style&gt;</span></div>
        </div>
      </div>
      <div class="docs-section">
        <h2>Step 3 â€” ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ HTML</h2>
        <p>&lt;form&gt; ã®é€ä¿¡ãƒœã‚¿ãƒ³ç›´å‰ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">HTML</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="cmt">&lt;!-- WT*Rca Widget --&gt;</span>
<span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"ecw"</span> <span class="at">id</span>=<span class="str">"ecw"</span> <span class="at">onclick</span>=<span class="str">"ecOpen()"</span><span class="kw">&gt;</span>
  <span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"ecw-box"</span> <span class="at">id</span>=<span class="str">"ecw-box"</span><span class="kw">&gt;</span>
    <span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"spin"</span><span class="kw">&gt;&lt;/div&gt;</span>
    <span class="kw">&lt;svg</span> <span class="at">width</span>=<span class="str">"13"</span> <span class="at">height</span>=<span class="str">"11"</span> <span class="at">viewBox</span>=<span class="str">"0 0 13 11"</span> <span class="at">fill</span>=<span class="str">"none"</span><span class="kw">&gt;</span>
      <span class="kw">&lt;polyline</span> <span class="at">points</span>=<span class="str">"1,5.5 5,9.5 12,1"</span> <span class="at">stroke</span>=<span class="str">"#00b894"</span>
        <span class="at">stroke-width</span>=<span class="str">"2.2"</span> <span class="at">stroke-linecap</span>=<span class="str">"round"</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;/svg&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
  <span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"ecw-text"</span><span class="kw">&gt;</span>
    <span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"main"</span> <span class="at">id</span>=<span class="str">"ecw-label"</span><span class="kw">&gt;</span>ç§ã¯ãƒ­ãƒœãƒƒãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“<span class="kw">&lt;/div&gt;</span>
    <span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"sub2"</span> <span class="at">id</span>=<span class="str">"ecw-sub"</span><span class="kw">&gt;</span>WT*Rca v4.0<span class="kw">&lt;/div&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/div&gt;</span>

<span class="cmt">&lt;!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’ body æœ«å°¾ã«é…ç½®ï¼ˆå…¨ãƒãƒ£ãƒ¬ãƒ³ã‚¸HTMLã‚’å«ã‚€ï¼‰ --&gt;</span>
<span class="kw">&lt;div</span> <span class="at">class</span>=<span class="str">"eco"</span> <span class="at">id</span>=<span class="str">"eco"</span><span class="kw">&gt;</span>
  <span class="cmt">&lt;!-- é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã® .ecm ãƒ–ãƒ­ãƒƒã‚¯å…¨ä½“ã‚’ã‚³ãƒ”ãƒ¼ --&gt;</span>
<span class="kw">&lt;/div&gt;</span></div>
        </div>
      </div>
      <div class="docs-section">
        <h2>Step 4 â€” JavaScript ã®è¿½åŠ </h2>
        <p>é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã® &lt;script&gt; ã‚¿ã‚°å†…ã®ã‚³ãƒ¼ãƒ‰ã‚’ &lt;body&gt; æœ«å°¾ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">HTML</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="kw">&lt;script&gt;</span>
<span class="cmt">  // WT*Rca JS â€” é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã®å…¨ JS ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘</span>
  <span class="str">'use strict'</span>;
  <span class="kw">const</span> S = { verified: <span class="kw">false</span>, current: <span class="num">0</span>, total: <span class="num">35</span>, ... };
  <span class="kw">function</span> <span class="fn">ecOpen</span>() { ... }
  <span class="kw">function</span> <span class="fn">onVerified</span>() { ... }
  <span class="cmt">// ä»¥ä¸‹çœç•¥ â€” é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾ä½¿ç”¨</span>
<span class="kw">&lt;/script&gt;</span></div>
        </div>
      </div>
    </div>

    <!-- TAB: API -->
    <div class="docs-tab" id="tab-api">
      <div class="docs-section">
        <h2>ä¸»è¦é–¢æ•°</h2>
        <table class="docs-table">
          <tr><th>é–¢æ•°</th><th>èª¬æ˜</th></tr>
          <tr><td>ecOpen()</td><td>ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«å‘¼ã°ã‚Œã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã„ã¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’é–‹å§‹ã—ã¾ã™ã€‚<code>onclick="ecOpen()"</code> ã§å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚</td></tr>
          <tr><td>ecClose()</td><td>ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã¾ã™ã€‚âœ•ãƒœã‚¿ãƒ³ã‹ã‚‰å‘¼ã°ã‚Œã¾ã™ã€‚æ‰‹å‹•ã§å‘¼ã³å‡ºã™ã“ã¨ã‚‚å¯èƒ½ã€‚</td></tr>
          <tr><td>onVerified()</td><td>å…¨å•ã‚¯ãƒªã‚¢æ™‚ã«è‡ªå‹•ã§å‘¼ã°ã‚Œã¾ã™ã€‚<strong>ã“ã“ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</strong>ã—ã¦ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚„ UI æ›´æ–°ã‚’è¡Œã„ã¾ã™ã€‚</td></tr>
          <tr><td>submitForm()</td><td>ã€Œç™»éŒ²ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‹ã‚‰å‘¼ã°ã‚Œã¾ã™ã€‚èªè¨¼æ¸ˆã¿ + ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ãƒã‚§ãƒƒã‚¯å¾Œã«å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚</td></tr>
          <tr><td>ecReset()</td><td>ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’æœªèªè¨¼çŠ¶æ…‹ã«æˆ»ã—ã¾ã™ã€‚å†ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã•ã›ãŸã„å ´åˆã«ä½¿ç”¨ã€‚</td></tr>
        </table>
      </div>
      <div class="docs-section">
        <h2>onVerified() ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">JavaScript</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="kw">function</span> <span class="fn">onVerified</span>() {
  <span class="cmt">// ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ãƒã‚§ãƒƒã‚¯æ¸ˆã¿çŠ¶æ…‹ã«ã™ã‚‹ï¼ˆå¿…é ˆï¼‰</span>
  <span class="kw">const</span> w = document.<span class="fn">getElementById</span>(<span class="str">'ecw'</span>);
  w.<span class="fn">classList.add</span>(<span class="str">'ok'</span>);
  w.style.cursor = <span class="str">'default'</span>;
  document.<span class="fn">getElementById</span>(<span class="str">'ecw-label'</span>).textContent = <span class="str">'ç¢ºèªæ¸ˆã¿'</span>;
  document.<span class="fn">getElementById</span>(<span class="str">'ecw-sub'</span>).textContent = <span class="str">'WT*Rcaâ„¢ VERIFIED'</span>;

  <span class="cmt">// é€ä¿¡ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–</span>
  document.<span class="fn">getElementById</span>(<span class="str">'submit-btn'</span>).disabled = <span class="kw">false</span>;

  <span class="cmt">// ã¾ãŸã¯ç›´æ¥ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡</span>
  <span class="cmt">// document.getElementById('my-form').submit();</span>

  <span class="cmt">// ã¾ãŸã¯ fetch ã§APIã«é€ä¿¡</span>
  <span class="cmt">// await fetch('/api/register', { method: 'POST', body: ... });</span>
}</div>
        </div>
      </div>
      <div class="docs-section">
        <h2>submitForm() ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">JavaScript</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="kw">function</span> <span class="fn">submitForm</span>() {
  <span class="cmt">// èªè¨¼ãƒã‚§ãƒƒã‚¯</span>
  <span class="kw">if</span> (!S.verified) { alert(<span class="str">'ã¾ãšCAPTCHAã‚’å®Œäº†ã—ã¦ãã ã•ã„'</span>); <span class="kw">return</span>; }

  <span class="cmt">// ãƒ•ã‚©ãƒ¼ãƒ å€¤ã®å–å¾—</span>
  <span class="kw">const</span> username = document.<span class="fn">getElementById</span>(<span class="str">'username-inp'</span>).value;
  <span class="kw">if</span> (!username.trim()) { alert(<span class="str">'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'</span>); <span class="kw">return</span>; }

  <span class="cmt">// ã“ã“ã«å®Ÿéš›ã®é€ä¿¡å‡¦ç†ã‚’æ›¸ã</span>
  console.<span class="fn">log</span>(<span class="str">'Submit!'</span>, { username, verified: S.verified });
}</div>
        </div>
      </div>
      <div class="docs-section">
        <h2>èªè¨¼çŠ¶æ…‹ã®ç¢ºèª</h2>
        <div class="docs-code-wrap">
          <div class="docs-code-head"><div class="docs-code-lang">JavaScript</div><button class="docs-copy-btn" onclick="copyCode(this)">COPY</button></div>
          <div class="docs-code"><span class="cmt">// èªè¨¼æ¸ˆã¿ã‹ã©ã†ã‹ã‚’ç¢ºèª</span>
<span class="kw">if</span> (S.verified) {
  console.<span class="fn">log</span>(<span class="str">'èªè¨¼æ¸ˆã¿'</span>);
}

<span class="cmt">// ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆå†ãƒãƒ£ãƒ¬ãƒ³ã‚¸å¯èƒ½ã«ã™ã‚‹ï¼‰</span>
<span class="kw">function</span> <span class="fn">ecReset</span>() {
  S.verified = <span class="kw">false</span>;
  <span class="kw">const</span> w = document.<span class="fn">getElementById</span>(<span class="str">'ecw'</span>);
  w.<span class="fn">classList.remove</span>(<span class="str">'ok'</span>);
  w.style.cursor = <span class="str">'pointer'</span>;
  document.<span class="fn">getElementById</span>(<span class="str">'ecw-label'</span>).textContent = <span class="str">'ç§ã¯ãƒ­ãƒœãƒƒãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“'</span>;
  document.<span class="fn">getElementById</span>(<span class="str">'ecw-sub'</span>).textContent = <span class="str">'WT*Rca v4.0'</span>;
  document.<span class="fn">getElementById</span>(<span class="str">'submit-btn'</span>).disabled = <span class="kw">true</span>;
}</div>
        </div>
      </div>
      <div class="docs-section">
        <h2>CSS ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h2>
        <table class="docs-table">
          <tr><th>å¤‰æ•°</th><th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤</th><th>ç”¨é€”</th></tr>
          <tr><td>--ink</td><td><code>#1a1825</code></td><td>ãƒ¡ã‚¤ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ»ãƒœãƒ¼ãƒ€ãƒ¼</td></tr>
          <tr><td>--paper</td><td><code>#f5f2ed</code></td><td>èƒŒæ™¯ãƒ»å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</td></tr>
          <tr><td>--mid</td><td><code>#e8e4de</code></td><td>åŒºåˆ‡ã‚Šç·šãƒ»éã‚¢ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ </td></tr>
          <tr><td>--dim</td><td><code>#b0a898</code></td><td>è£œåŠ©ãƒ†ã‚­ã‚¹ãƒˆãƒ»ãƒ’ãƒ³ãƒˆ</td></tr>
          <tr><td>--accent</td><td><code>#d63031</code></td><td>ã‚¨ãƒ©ãƒ¼ãƒ»ã‚¿ã‚¤ãƒãƒ¼è­¦å‘Š</td></tr>
          <tr><td>--green</td><td><code>#00b894</code></td><td>æˆåŠŸãƒ»ãƒã‚§ãƒƒã‚¯æ¸ˆã¿</td></tr>
          <tr><td>--yellow</td><td><code>#fdcb6e</code></td><td>ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚¾ãƒ¼ãƒ³</td></tr>
        </table>
      </div>
    </div>

    <!-- TAB: CHALLENGES -->
    <div class="docs-tab" id="tab-challenges">
      <div class="docs-section">
        <h2>å…¨35ãƒãƒ£ãƒ¬ãƒ³ã‚¸</h2>
        <div class="challenge-list">
          <div class="challenge-row"><div class="challenge-num">01</div><div class="challenge-name">æ­ªã¿æ–‡å­—èªè­˜</div><div class="challenge-desc">Canvasæ³¢å½¢å¤‰æ›æ¸ˆã¿æ–‡å­—ã€‚å†ç”Ÿæˆã§âˆ’2ç§’ãƒšãƒŠãƒ«ãƒ†ã‚£</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">02</div><div class="challenge-name">æ··æ²Œå›³å½¢ã‚°ãƒªãƒƒãƒ‰</div><div class="challenge-desc">6Ã—6ã®36ãƒã‚¹ã€‚å…¨å›³å½¢ç¨®ãŒå›è»¢ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ãƒ©ãƒ³ãƒ€ãƒ ã§æ··åœ¨ã€‚ç›®æ¨™ã‚’å…¨é¸æŠ</div><span class="challenge-tag tag-trick">ãƒˆãƒªãƒƒã‚¯</span></div>
          <div class="challenge-row"><div class="challenge-num">03</div><div class="challenge-name">ç²¾å¯†ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</div><div class="challenge-desc">å¹…5%ã®ã‚¾ãƒ¼ãƒ³ã«ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’åˆã‚ã›ã‚‹</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">04</div><div class="challenge-name">é€†é †è¨˜æ†¶</div><div class="challenge-desc">7æ¡â†’3ç§’å¾ŒCanvasã¼ã‹ã—+ãƒ‡ãƒ¼ã‚¿æ¶ˆå»â†’é€†é †å…¥åŠ›</div><span class="challenge-tag tag-memory">è¨˜æ†¶</span></div>
          <div class="challenge-row"><div class="challenge-num">05</div><div class="challenge-name">æ•°å¼è¨ˆç®—</div><div class="challenge-desc">(aÃ—b)âˆ’(cÃ—d)+âŒŠâˆš(aÃ—b)âŒ‹ ã‚’è¨ˆç®—</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">06</div><div class="challenge-name">ã‚¹ãƒˆãƒ«ãƒ¼ãƒ—åŠ¹æœ</div><div class="challenge-desc">è‰²åã¨æ–‡å­—è‰²ãŒçŸ›ç›¾ã€‚7ç§’åˆ¶é™</div><span class="challenge-tag tag-trick">ãƒˆãƒªãƒƒã‚¯</span></div>
          <div class="challenge-row"><div class="challenge-num">07</div><div class="challenge-name">ãƒ€ã‚¤ãƒ¤ãƒ«å›è»¢</div><div class="challenge-desc">ãƒ‰ãƒ©ãƒƒã‚°ã§æŒ‡å®šè§’åº¦Â±12Â°ã«èµ¤ç‚¹ã‚’åˆã‚ã›ã‚‹</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">08</div><div class="challenge-name">ãƒ¢ãƒ¼ãƒ«ã‚¹è§£èª­</div><div class="challenge-desc">2æ¡æ•°å­—ã®ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’è§£èª­ãƒ»6æŠ</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">09</div><div class="challenge-name">åº§æ¨™ã‚¯ãƒªãƒƒã‚¯</div><div class="challenge-desc">æ•£å¸ƒå›³ä¸Šã®èµ¤ã„Ã—ã‚’ã‚¯ãƒªãƒƒã‚¯ Â±12px</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">10</div><div class="challenge-name">æ•°å­—ã‚½ãƒ¼ãƒˆ</div><div class="challenge-desc">5ã¤ã®æ•°å­—ã‚’å°ã•ã„é †ã«ã‚¿ãƒƒãƒ—</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">11</div><div class="challenge-name">ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³</div><div class="challenge-desc">ãƒ•ã‚§ã‚¤ã‚¯ã‚ã‚Šã€‚èµ¤ããªã£ãŸç¬é–“ã ã‘ã‚¯ãƒªãƒƒã‚¯</div><span class="challenge-tag tag-endure">ä½“åŠ›</span></div>
          <div class="challenge-row"><div class="challenge-num">12</div><div class="challenge-name">2é€²æ•°å¤‰æ›</div><div class="challenge-desc">7ãƒ“ãƒƒãƒˆ2é€²æ•°â†’10é€²æ•°ã€8æŠ</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">13</div><div class="challenge-name">HEXã‚«ãƒ©ãƒ¼ç…§åˆ</div><div class="challenge-desc">16é€²ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã¨ä¸€è‡´ã™ã‚‹è‰²ã‚’5æŠã‹ã‚‰é¸ã¶</div><span class="challenge-tag tag-trick">ãƒˆãƒªãƒƒã‚¯</span></div>
          <div class="challenge-row"><div class="challenge-num">14</div><div class="challenge-name">æ³¢å½¢ãƒãƒƒãƒãƒ³ã‚°</div><div class="challenge-desc">æ­£å¼¦æ³¢ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Œå…¨ä¸€è‡´ã‚’4æŠã‹ã‚‰é¸ã¶</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">15</div><div class="challenge-name">å›³å½¢ã‚«ã‚¦ãƒ³ãƒˆ</div><div class="challenge-desc">å›è»¢ãƒ»ç¸®å°ãƒ»é‡ãªã‚Šã®ã‚ã‚‹å›³å½¢ã®ä¸­ã‹ã‚‰æŒ‡å®šç¨®ã‚’æ•°ãˆã‚‹</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">16</div><div class="challenge-name">ãƒ‘ã‚¿ãƒ¼ãƒ³è¨˜æ†¶</div><div class="challenge-desc">5Ã—5ã‚°ãƒªãƒƒãƒ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’3ç§’è¨˜æ†¶â†’å†ç¾</div><span class="challenge-tag tag-memory">è¨˜æ†¶</span></div>
          <div class="challenge-row"><div class="challenge-num">17</div><div class="challenge-name">ã‚«ã‚¦ãƒ³ãƒˆã‚¿ãƒƒãƒ—</div><div class="challenge-desc">æŒ‡å®šå›æ•°ã´ã£ãŸã‚Šã‚¿ãƒƒãƒ—ã—ã¦æ­¢ã‚ã‚‹</div><span class="challenge-tag tag-endure">ä½“åŠ›</span></div>
          <div class="challenge-row"><div class="challenge-num">18</div><div class="challenge-name">ã‚µã‚¤ãƒ¢ãƒ³è¨˜æ†¶</div><div class="challenge-desc">è‰²ã®ç‚¹ç¯ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¦šãˆã¦åŒé †ã§æŠ¼ã™</div><span class="challenge-tag tag-memory">è¨˜æ†¶</span></div>
          <div class="challenge-row"><div class="challenge-num">19</div><div class="challenge-name">è«–ç†ãƒ‘ã‚ºãƒ«</div><div class="challenge-desc">æ¡ä»¶æ–‡ã‹ã‚‰æ­£ã—ã„ç­”ãˆã‚’æ¨è«–ã™ã‚‹</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">20</div><div class="challenge-name">ã‚¿ã‚¤ãƒ—ã‚¢ã‚¦ãƒˆ</div><div class="challenge-desc">è¨˜å·æ··ã˜ã‚Š8æ–‡å­—ã‚’ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ã§å…¥åŠ›</div><span class="challenge-tag tag-endure">ä½“åŠ›</span></div>
          <div class="challenge-row"><div class="challenge-num">21</div><div class="challenge-name">ãƒ€ãƒ–ãƒ«ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</div><div class="challenge-desc">Aãƒ»B 2æœ¬ã‚’åŒæ™‚ã«ã‚¾ãƒ¼ãƒ³ã¸åˆã‚ã›ã‚‹</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">22</div><div class="challenge-name">æ•°åˆ—ã®æ¬¡ã®æ•°</div><div class="challenge-desc">ç­‰å·®ãƒ»ç­‰æ¯”ãƒ»ãƒ•ã‚£ãƒœãƒŠãƒƒãƒç³»ã®æ•°åˆ—ã®ç¶šãã‚’å½“ã¦ã‚‹</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">23</div><div class="challenge-name">ãƒ•ãƒ©ãƒƒã‚·ãƒ¥é †è¨˜æ†¶</div><div class="challenge-desc">4Ã—4ã‚°ãƒªãƒƒãƒ‰ã§å…‰ã£ãŸä½ç½®ã‚’é †ç•ªé€šã‚Šã‚¿ãƒƒãƒ—</div><span class="challenge-tag tag-memory">è¨˜æ†¶</span></div>
          <div class="challenge-row"><div class="challenge-num">24</div><div class="challenge-name">2ç‚¹ã‚¯ãƒªãƒƒã‚¯</div><div class="challenge-desc">ã‚°ãƒ©ãƒ•ä¸Šã®èµ¤â†’é’ã®Ã—ã‚’é †ç•ªã«ã‚¯ãƒªãƒƒã‚¯</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">25</div><div class="challenge-name">æ™‚é–“æ„Ÿè¦š</div><div class="challenge-desc">æŒ‡å®šç§’æ•°ã‚’è‡ªåˆ†ã§ã‚«ã‚¦ãƒ³ãƒˆã—ã¦ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ Â±0.8ç§’</div><span class="challenge-tag tag-trick">ãƒˆãƒªãƒƒã‚¯</span></div>
          <div class="challenge-row"><div class="challenge-num">26</div><div class="challenge-name">ãƒ‘ã‚¿ãƒ¼ãƒ³è£œå®Œ</div><div class="challenge-desc">ç¹°ã‚Šè¿”ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç©ºæ¬„ã‚’åŸ‹ã‚ã‚‹</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">27</div><div class="challenge-name">ã‚·ã‚§ãƒ«ã‚²ãƒ¼ãƒ </div><div class="challenge-desc">3æšã‚«ãƒ¼ãƒ‰ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã«èµ¤ã‚«ãƒ¼ãƒ‰ã®ä½ç½®ã‚’å½“ã¦ã‚‹</div><span class="challenge-tag tag-memory">è¨˜æ†¶</span></div>
          <div class="challenge-row"><div class="challenge-num">28</div><div class="challenge-name">é¡åƒåè»¢</div><div class="challenge-desc">Canvaså›³å½¢ã®æ°´å¹³åè»¢ã‚’3æŠã‹ã‚‰é¸ã¶</div><span class="challenge-tag tag-trick">ãƒˆãƒªãƒƒã‚¯</span></div>
          <div class="challenge-row"><div class="challenge-num">29</div><div class="challenge-name">é€£æ‰“ã‚¸ãƒ£ã‚¹ãƒˆ</div><div class="challenge-desc">æŒ‡å®šå›æ•°ã´ã£ãŸã‚Šé€£æ‰“ã€‚è¶…ãˆãŸã‚‰å¤±æ•—</div><span class="challenge-tag tag-endure">ä½“åŠ›</span></div>
          <div class="challenge-row"><div class="challenge-num">30</div><div class="challenge-name">é…å»¶ã‚¯ãƒªãƒƒã‚¯</div><div class="challenge-desc">èµ¤ç‚¹å‡ºç¾ã‹ã‚‰æŒ‡å®šç§’å¾Œã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ Â±0.6ç§’</div><span class="challenge-tag tag-trick">ãƒˆãƒªãƒƒã‚¯</span></div>
          <div class="challenge-row"><div class="challenge-num">31</div><div class="challenge-name">16é€²æ•°å¤‰æ›</div><div class="challenge-desc">16é€²æ•°ï¼ˆ2æ¡ï¼‰ã‚’10é€²æ•°ã«å¤‰æ›ãƒ»4æŠ</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">32</div><div class="challenge-name">è¨˜æ†¶ã‚½ãƒ¼ãƒˆ</div><div class="challenge-desc">5æ•°å­—ã‚’3ç§’è¨˜æ†¶â†’æ¶ˆãˆãŸã‚‰æ˜‡é †ã«ä¸¦ã¹ã‚‹</div><span class="challenge-tag tag-memory">è¨˜æ†¶</span></div>
          <div class="challenge-row"><div class="challenge-num">33</div><div class="challenge-name">è«–ç†æ¨è«–</div><div class="challenge-desc">3ã¤ã®æ¡ä»¶æ–‡ã‹ã‚‰çŸ›ç›¾ãªãçµè«–ã‚’å°ã</div><span class="challenge-tag tag-logic">è«–ç†</span></div>
          <div class="challenge-row"><div class="challenge-num">34</div><div class="challenge-name">ãƒˆãƒªãƒ—ãƒ«ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</div><div class="challenge-desc">Aãƒ»Bãƒ»C 3æœ¬ã‚’å…¨éƒ¨åŒæ™‚ã«ã‚¾ãƒ¼ãƒ³ã¸åˆã‚ã›ã‚‹</div><span class="challenge-tag tag-skill">ã‚¹ã‚­ãƒ«</span></div>
          <div class="challenge-row"><div class="challenge-num">35</div><div class="challenge-name">ç§»å‹•ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</div><div class="challenge-desc">ãƒ©ãƒ³ãƒ€ãƒ ã«ç§»å‹•ã™ã‚‹ãƒœã‚¿ãƒ³ã‚’å…¨éƒ¨ã‚¯ãƒªãƒƒã‚¯ã€‚åˆ¶é™æ™‚é–“å†…ã«å…¨éƒ¨æ•ã¾ãˆã‚‹</div><span class="challenge-tag tag-endure">ä½“åŠ›</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
'use strict';
const S={
  verified:false,current:0,total:35,order:[],timerInt:null,
  c1text:'',
  c2correct:[],
  c3val:0,c3target:{},c3drag:false,
  c4seq:null,c4answer:[],c4entered:[],
  c5answer:0,
  c6correct:-1,c6sel:-1,
  c7angle:0,c7target:{},c7drag:false,
  c8answer:'',
  c9target:{},c9click:null,
  c10answer:[],c10slots:[],
  c11red:false,c11done:false,c11t:null,
  c12answer:0,
  c13correct:-1,c13sel:-1,
  c14correct:-1,c14sel:-1,c14p:null,
  c15answer:0,
  c16pattern:[],c16input:[],c16phase:'show',
  c17target:0,c17count:0,
  c18seq:[],c18input:[],c18phase:'show',
  c19answer:'',
  c20target:'',
  c21aval:0,c21atarget:{},c21adrag:false,c21bval:0,c21btarget:{},c21bdrag:false,
  c22answer:0,
  c23seq:[],c23input:[],c23phase:'show',
  c24tA:{},c24tB:{},c24step:0,c24clickA:null,c24clickB:null,
  c25target:0,c25startTime:0,
  c26answer:'',
  c27cards:[0,1,2],c27red:0,c27phase:'show',
  c28correct:-1,c28sel:-1,
  c29target:0,c29count:0,c29over:false,
  c30target:0,c30startTime:0,c30started:false,
  c31answer:0,
  c32nums:null,c32answer:[],c32slots:[],
  c33answer:'',
  c34aval:0,c34atarget:{},c34adrag:false,c34bval:0,c34btarget:{},c34bdrag:false,c34cval:0,c34ctarget:{},c34cdrag:false,
  c35targets:[],c35clicked:0,c35total:0,c35int:null,
};
const ALL=Array.from({length:35},(_,i)=>i+1);
const TIMERS={1:12,2:20,3:9,4:22,5:14,6:7,7:12,8:15,9:13,10:18,11:10,12:12,13:10,14:15,15:18,16:35,17:15,18:25,19:20,20:15,21:12,22:15,23:20,24:15,25:20,26:15,27:18,28:12,29:12,30:20,31:12,32:25,33:25,34:14,35:20};
const CNAMES={1:'æ­ªã¿æ–‡å­—èªè­˜',2:'æ··æ²Œå›³å½¢ã‚°ãƒªãƒƒãƒ‰',3:'ç²¾å¯†ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼',4:'é€†é †è¨˜æ†¶',5:'æ•°å¼è¨ˆç®—',6:'ã‚¹ãƒˆãƒ«ãƒ¼ãƒ—åŠ¹æœ',7:'ãƒ€ã‚¤ãƒ¤ãƒ«å›è»¢',8:'ãƒ¢ãƒ¼ãƒ«ã‚¹è§£èª­',9:'åº§æ¨™ã‚¯ãƒªãƒƒã‚¯',10:'æ•°å­—ã‚½ãƒ¼ãƒˆ',11:'ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³',12:'2é€²æ•°å¤‰æ›',13:'HEXã‚«ãƒ©ãƒ¼ç…§åˆ',14:'æ³¢å½¢ãƒãƒƒãƒãƒ³ã‚°',15:'å›³å½¢ã‚«ã‚¦ãƒ³ãƒˆ',16:'ãƒ‘ã‚¿ãƒ¼ãƒ³è¨˜æ†¶',17:'ã‚«ã‚¦ãƒ³ãƒˆã‚¿ãƒƒãƒ—',18:'ã‚µã‚¤ãƒ¢ãƒ³è¨˜æ†¶',19:'è«–ç†ãƒ‘ã‚ºãƒ«',20:'ã‚¿ã‚¤ãƒ—ã‚¢ã‚¦ãƒˆ',21:'ãƒ€ãƒ–ãƒ«ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼',22:'æ•°åˆ—ã®æ¬¡ã®æ•°',23:'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥é †è¨˜æ†¶',24:'2ç‚¹ã‚¯ãƒªãƒƒã‚¯',25:'æ™‚é–“æ„Ÿè¦š',26:'ãƒ‘ã‚¿ãƒ¼ãƒ³è£œå®Œ',27:'ã‚·ã‚§ãƒ«ã‚²ãƒ¼ãƒ ',28:'é¡åƒåè»¢',29:'é€£æ‰“ã‚¸ãƒ£ã‚¹ãƒˆ',30:'é…å»¶ã‚¯ãƒªãƒƒã‚¯',31:'16é€²æ•°å¤‰æ›',32:'è¨˜æ†¶ã‚½ãƒ¼ãƒˆ',33:'è«–ç†æ¨è«–',34:'ãƒˆãƒªãƒ—ãƒ«ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼',35:'ç§»å‹•ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ'};

function ecOpen(){
  if(S.verified)return;
  const u=document.getElementById('username-inp').value.trim();
  if(!u){alert('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');return;}
  S.order=[...ALL].sort(()=>Math.random()-0.5);S.current=0;buildDots();
  document.getElementById('eco').classList.add('open');
  document.getElementById('ecw').classList.add('loading');
  setTimeout(()=>{document.getElementById('ecw').classList.remove('loading');goNext();},500);
}
function ecClose(){stopTimer();killReact();clearC35();document.getElementById('eco').classList.remove('open');}
function buildDots(){
  const c=document.getElementById('ecm-dots');c.innerHTML='';
  for(let i=0;i<S.total;i++){const d=document.createElement('div');d.className='dot';d.id='d'+i;c.appendChild(d);}
}
function refreshDots(){
  for(let i=0;i<S.total;i++){const el=document.getElementById('d'+i);if(!el)continue;el.className='dot'+(i<S.current?' done':i===S.current?' now':'');}
}
function startTimer(n){
  stopTimer();let t=TIMERS[n];
  const el=document.getElementById('ecm-timer');el.textContent=t;el.className='ecm-timer';el.style.color='';
  S.timerInt=setInterval(()=>{t--;el.textContent=t;if(t<=3)el.className='ecm-timer hot';if(t<=0){stopTimer();fail('ã‚¿ã‚¤ãƒ ã‚ªãƒ¼ãƒãƒ¼');}},1000);
}
function stopTimer(){clearInterval(S.timerInt);}
function goNext(){
  S.current++;
  if(S.current>S.total){onVerified();return;}
  refreshDots();clearStatus();
  const n=S.order[S.current-1];
  document.getElementById('ecm-name').textContent=`${S.current} / ${S.total} â€” ${CNAMES[n]}`;
  document.querySelectorAll('.ec-ch').forEach(e=>e.classList.remove('active'));
  document.getElementById('ec'+n).classList.add('active');
  document.querySelector('.ecm-body').scrollTop=0;
  [initC1,initC2,initC3,initC4,initC5,initC6,initC7,initC8,initC9,initC10,initC11,initC12,initC13,initC14,initC15,initC16,initC17,initC18,initC19,initC20,initC21,initC22,initC23,initC24,initC25,initC26,initC27,initC28,initC29,initC30,initC31,initC32,initC33,initC34,initC35][n-1]();
  startTimer(n);
}
function fail(msg){
  stopTimer();killReact();clearC35();setStatus('err','âœ— '+msg);
  setTimeout(()=>{S.current=0;S.order=[...ALL].sort(()=>Math.random()-0.5);buildDots();goNext();},1800);
}
function onVerified(){
  stopTimer();document.querySelectorAll('.ec-ch').forEach(e=>e.classList.remove('active'));
  document.getElementById('ec-success').style.display='block';
  document.getElementById('ecm-name').textContent='ç¢ºèªå®Œäº†';
  const tel=document.getElementById('ecm-timer');tel.textContent='âœ“';tel.className='ecm-timer';tel.style.color='var(--green)';
  S.verified=true;
  const w=document.getElementById('ecw');w.classList.add('ok');w.style.cursor='default';
  document.getElementById('ecw-label').textContent='ç¢ºèªæ¸ˆã¿';
  document.getElementById('ecw-sub').textContent='WT*Rcaâ„¢ VERIFIED';
  document.getElementById('submit-btn').disabled=false;
  setTimeout(()=>{ecClose();document.getElementById('ec-success').style.display='none';tel.style.color='';tel.textContent='â€”';},2000);
}
function submitForm(){
  if(!S.verified){alert('ã¾ãšCAPTCHAã‚’å®Œäº†ã—ã¦ãã ã•ã„');return;}
  const u=document.getElementById('username-inp').value.trim();
  if(!u){alert('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');return;}
  document.getElementById('demo-card').style.display='none';
  document.getElementById('page-label').style.display='none';
  document.getElementById('docs-page').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}
function setStatus(t,m){const el=document.getElementById('ec-status');if(!t){el.className='ec-status';return;}el.className='ec-status '+t;el.textContent=m;if(t!=='err')setTimeout(()=>setStatus(''),2500);}
function clearStatus(){setStatus('');}
function shake(id){const el=document.getElementById(id);if(!el)return;el.classList.remove('shake');void el.offsetWidth;el.classList.add('shake');setTimeout(()=>el.classList.remove('shake'),400);}

// â•â• C1 DISTORTED TEXT â•â•
const ABC='ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789';
function initC1(){S.c1text=rndStr(7);drawC1();const i=document.getElementById('c1-in');i.value='';i.focus();i.onkeydown=e=>{if(e.key==='Enter')chkC1();};document.getElementById('c1-cv').onclick=()=>{S.c1text=rndStr(7);drawC1();setStatus('warn','-2ç§’');};}
function rndStr(n){return Array.from({length:n},()=>ABC[~~(Math.random()*ABC.length)]).join('');}
function drawC1(){
  const cv=document.getElementById('c1-cv');cv.width=cv.clientWidth||480;const W=cv.width,H=90;
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  ctx.strokeStyle='rgba(0,0,0,0.06)';ctx.lineWidth=1;
  for(let x=0;x<W;x+=12){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,H);ctx.stroke();}
  for(let y=0;y<H;y+=12){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(W,y);ctx.stroke();}
  for(let i=0;i<8;i++){ctx.beginPath();ctx.strokeStyle=`rgba(0,0,0,${0.03+Math.random()*0.07})`;ctx.lineWidth=1+Math.random();ctx.moveTo(Math.random()*W,Math.random()*H);ctx.bezierCurveTo(Math.random()*W,Math.random()*H,Math.random()*W,Math.random()*H,Math.random()*W,Math.random()*H);ctx.stroke();}
  for(let i=0;i<100;i++){ctx.fillStyle=`rgba(0,0,0,${0.04+Math.random()*0.09})`;ctx.fillRect(Math.random()*W,Math.random()*H,1.5,1.5);}
  const step=(W-40)/S.c1text.length;
  for(let i=0;i<S.c1text.length;i++){ctx.save();ctx.translate(22+step*i+step/2,H/2+6);ctx.rotate((Math.random()-0.5)*0.55);ctx.scale(0.8+Math.random()*0.45,0.7+Math.random()*0.5);const fs=22+~~(Math.random()*12);ctx.font=`${Math.random()>0.5?'bold ':''} ${fs}px 'IBM Plex Mono',monospace`;ctx.fillStyle=`rgba(0,0,0,${0.55+Math.random()*0.45})`;ctx.fillText(S.c1text[i],0,0);ctx.restore();}
  const id=ctx.getImageData(0,0,W,H),d=id.data,nd=new Uint8ClampedArray(d);
  for(let y=0;y<H;y++){const wx=Math.sin(y/5)*5;for(let x=0;x<W;x++){const sx=Math.round(x+wx);if(sx>=0&&sx<W){const si=(y*W+sx)*4,di=(y*W+x)*4;nd[di]=d[si];nd[di+1]=d[si+1];nd[di+2]=d[si+2];nd[di+3]=d[si+3];}}}
  ctx.putImageData(new ImageData(nd,W,H),0,0);
}
function chkC1(){if(document.getElementById('c1-in').value.trim()===S.c1text)goNext();else{shake('c1-in');fail('ä¸æ­£è§£ / '+S.c1text);}}

// â•â• C2 CHAOS SHAPE GRID 6Ã—6 â•â•
const SHAPES=['circle','square','triangle','diamond','cross','star','hex','arrow','pentagon','wave','ring','zigzag'];
function drawShape(ctx,type,cx,cy,r,color,rot){
  ctx.save();ctx.translate(cx,cy);if(rot)ctx.rotate(rot);
  ctx.fillStyle=color;ctx.strokeStyle=color;ctx.lineWidth=Math.max(1.5,r*0.2);
  ctx.beginPath();
  if(type==='circle'){ctx.arc(0,0,r,0,Math.PI*2);ctx.fill();}
  else if(type==='square'){ctx.fillRect(-r,-r,r*2,r*2);}
  else if(type==='triangle'){ctx.moveTo(0,-r);ctx.lineTo(r*.87,r*.5);ctx.lineTo(-r*.87,r*.5);ctx.closePath();ctx.fill();}
  else if(type==='diamond'){ctx.moveTo(0,-r);ctx.lineTo(r*.65,0);ctx.lineTo(0,r);ctx.lineTo(-r*.65,0);ctx.closePath();ctx.fill();}
  else if(type==='cross'){ctx.lineWidth=r*.5;ctx.moveTo(-r*.65,0);ctx.lineTo(r*.65,0);ctx.stroke();ctx.beginPath();ctx.moveTo(0,-r*.65);ctx.lineTo(0,r*.65);ctx.stroke();}
  else if(type==='star'){for(let k=0;k<5;k++){const a=-Math.PI/2+k*Math.PI*2/5,b=a+Math.PI/5;k===0?ctx.moveTo(r*Math.cos(a),r*Math.sin(a)):ctx.lineTo(r*Math.cos(a),r*Math.sin(a));ctx.lineTo(r*.4*Math.cos(b),r*.4*Math.sin(b));}ctx.closePath();ctx.fill();}
  else if(type==='hex'){for(let k=0;k<6;k++){const a=k*Math.PI/3;k===0?ctx.moveTo(r*Math.cos(a),r*Math.sin(a)):ctx.lineTo(r*Math.cos(a),r*Math.sin(a));}ctx.closePath();ctx.fill();}
  else if(type==='arrow'){ctx.moveTo(-r*.55,-r*.3);ctx.lineTo(r*.05,-r*.3);ctx.lineTo(r*.05,-r*.6);ctx.lineTo(r*.6,0);ctx.lineTo(r*.05,r*.6);ctx.lineTo(r*.05,r*.3);ctx.lineTo(-r*.55,r*.3);ctx.closePath();ctx.fill();}
  else if(type==='pentagon'){for(let k=0;k<5;k++){const a=-Math.PI/2+k*Math.PI*2/5;k===0?ctx.moveTo(r*Math.cos(a),r*Math.sin(a)):ctx.lineTo(r*Math.cos(a),r*Math.sin(a));}ctx.closePath();ctx.fill();}
  else if(type==='wave'){ctx.lineWidth=r*.35;for(let x=-r;x<=r;x+=1){const y=Math.sin(x/r*Math.PI*1.5)*r*.45;x===-r?ctx.moveTo(x,y):ctx.lineTo(x,y);}ctx.stroke();}
  else if(type==='ring'){ctx.arc(0,0,r,0,Math.PI*2);ctx.stroke();ctx.beginPath();ctx.arc(0,0,r*.5,0,Math.PI*2);ctx.stroke();}
  else if(type==='zigzag'){const pts=5;ctx.lineWidth=r*.3;for(let k=0;k<=pts;k++){const x=-r+k*(r*2/pts);const y=k%2===0?r*.5:-r*.5;k===0?ctx.moveTo(x,y):ctx.lineTo(x,y);}ctx.stroke();}
  ctx.restore();
}
function shapeJP(s){return{circle:'å††',square:'æ­£æ–¹å½¢',triangle:'ä¸‰è§’å½¢',diamond:'è±å½¢',cross:'åå­—',star:'æ˜Ÿ',hex:'å…­è§’å½¢',arrow:'çŸ¢å°',pentagon:'äº”è§’å½¢',wave:'æ³¢',ring:'äºŒé‡ä¸¸',zigzag:'ã‚¸ã‚°ã‚¶ã‚°'}[s]||s;}
function initC2(){
  const target=SHAPES[~~(Math.random()*SHAPES.length)];
  // Build similar decoys: shapes that look similar at first glance
  // For triangle: add rotated triangles (point down = diamond-ish)
  // Strategy: pick 2-3 "similar" shapes as main decoys
  const similar = getSimilar(target);
  const count=4+~~(Math.random()*3); // 4-6 targets
  const cells=Array.from({length:36},()=>{
    if(Math.random()<0.45&&similar.length>0){return similar[~~(Math.random()*similar.length)];} // similar decoy
    let s;do{s=SHAPES[~~(Math.random()*SHAPES.length)];}while(s===target);return s;
  });
  S.c2correct=[];
  const pos=[];while(pos.length<count){const p=~~(Math.random()*36);if(!pos.includes(p))pos.push(p);}
  pos.forEach(p=>{cells[p]=target;S.c2correct.push(p);});
  document.getElementById('c2-q').innerHTML=`<strong>ã€Œ${shapeJP(target)}ã€</strong>ã‚’ã™ã¹ã¦é¸ã‚“ã§ãã ã•ã„ã€‚<br><small style="color:var(--dim)">ä¼¼ãŸå›³å½¢ï¼ˆå›è»¢ãƒ»ç¸®å°é•ã„ï¼‰ãŒæ··åœ¨ / ${count}å€‹ã‚ã‚Šã¾ã™</small>`;
  const g=document.getElementById('c2-grid');g.innerHTML='';
  cells.forEach((sh,i)=>{
    const cell=document.createElement('div');cell.className='ec-cell';cell.dataset.i=i;
    const sz=46;const cv=document.createElement('canvas');cv.width=sz;cv.height=sz;
    const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,sz,sz);
    const scale=0.65+Math.random()*0.35;
    const rot=Math.random()*Math.PI*2; // full random rotation for all shapes
    const r=Math.round(sz*0.27*scale);
    const isT=S.c2correct.includes(i);
    const shade=isT?`rgba(26,24,37,${0.8+Math.random()*0.2})`:`rgba(${50+~~(Math.random()*100)},${50+~~(Math.random()*100)},${50+~~(Math.random()*100)},${0.45+Math.random()*0.45})`;
    drawShape(ctx,sh,sz/2,sz/2,r,shade,rot);
    cell.appendChild(cv);cell.onclick=()=>cell.classList.toggle('sel');g.appendChild(cell);
  });
}
function getSimilar(t){
  const map={circle:['ring'],square:['diamond','rectangle'],triangle:['diamond','pentagon'],diamond:['square','triangle'],cross:['star'],star:['cross','hex'],hex:['pentagon'],arrow:['triangle'],pentagon:['hex','triangle'],wave:['zigzag'],ring:['circle'],zigzag:['wave']};
  return (map[t]||[]).filter(s=>SHAPES.includes(s));
}
function chkC2(){
  const sel=[...document.querySelectorAll('#c2-grid .ec-cell.sel')].map(c=>+c.dataset.i).sort((a,b)=>a-b).join(',');
  if(sel===S.c2correct.slice().sort((a,b)=>a-b).join(','))goNext();else fail('é¸æŠãŒé•ã„ã¾ã™');
}

// â•â• C3 SLIDER â•â•
function initC3(){
  const m=12+~~(Math.random()*78);S.c3target={min:m,max:m+5};S.c3val=0;
  document.getElementById('c3-zone').style.left=m+'%';document.getElementById('c3-zone').style.width='5%';updSlider3('c3',0);
  mkSlider('c3-track','c3val','c3drag');
}
function updSlider3(id,v){document.getElementById(id+'-fill').style.width=v+'%';document.getElementById(id+'-thumb').style.left=v+'%';}
function mkSlider(trackId,valKey,dragKey){
  const tr=document.getElementById(trackId);
  const mv=e=>{const r=tr.getBoundingClientRect();const cx=(e.touches?e.touches[0].clientX:e.clientX)-r.left;S[valKey]=Math.max(0,Math.min(100,(cx/r.width)*100));const pfx=trackId.replace('-track','');updSlider3(pfx,S[valKey]);};
  tr.onmousedown=e=>{S[dragKey]=true;mv(e);};tr.ontouchstart=e=>{S[dragKey]=true;mv(e);e.preventDefault();};
}
document.addEventListener('mousemove',e=>{['c3','c21a','c21b','c34a','c34b','c34c'].forEach(id=>{if(S[id+'drag']){const tr=document.getElementById(id+'-track');if(tr){const r=tr.getBoundingClientRect();S[id+'val']=Math.max(0,Math.min(100,((e.clientX-r.left)/r.width)*100));updSlider3(id,S[id+'val']);}}});});
document.addEventListener('mouseup',()=>{['c3','c21a','c21b','c34a','c34b','c34c'].forEach(id=>S[id+'drag']=false);});
document.addEventListener('touchend',()=>{['c3','c21a','c21b','c34a','c34b','c34c'].forEach(id=>S[id+'drag']=false);});
function chkC3(){if(S.c3val>=S.c3target.min&&S.c3val<=S.c3target.max)goNext();else fail('ã‚¾ãƒ¼ãƒ³ã«åˆã£ã¦ã„ã¾ã›ã‚“');}

// â•â• C4 REVERSE SEQUENCE â•â•
function initC4(){
  const seq=Array.from({length:7},()=>~~(Math.random()*10));S.c4answer=[...seq].reverse();S.c4entered=[];S.c4seq=seq;
  document.getElementById('c4-entered').textContent='â€”';drawSeq4(false);setTimeout(()=>drawSeq4(true),3000);
  const kp=document.getElementById('c4-keys');kp.innerHTML='';
  for(let n=0;n<=9;n++){const b=document.createElement('button');b.className='ec-key';b.textContent=n;b.onclick=()=>{if(S.c4entered.length>=S.c4answer.length)return;S.c4entered.push(n);updSeq4();if(S.c4entered.length===S.c4answer.length)chkC4();};kp.appendChild(b);}
  const bk=document.createElement('button');bk.className='ec-key';bk.textContent='âŒ«';bk.style.color='var(--accent)';bk.onclick=()=>{S.c4entered.pop();updSeq4();};kp.appendChild(bk);
}
function drawSeq4(hidden){
  const cv=document.getElementById('c4-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=68;
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  if(hidden){
    const off=document.createElement('canvas');off.width=W;off.height=H;const oc=off.getContext('2d');
    oc.fillStyle='#f5f2ed';oc.fillRect(0,0,W,H);oc.save();oc.filter='blur(9px)';oc.font='bold 28px IBM Plex Mono,monospace';oc.textAlign='center';oc.textBaseline='middle';oc.fillStyle='rgba(0,0,0,0.55)';
    const nums=S.c4seq;const step=W/(nums.length+1);nums.forEach((n,i)=>oc.fillText(n,(i+1)*step,H/2));oc.restore();
    ctx.putImageData(oc.getImageData(0,0,W,H),0,0);
    for(let i=0;i<600;i++){ctx.fillStyle=`rgba(245,242,237,${0.3+Math.random()*0.5})`;ctx.fillRect(Math.random()*W,Math.random()*H,1+Math.random()*3,1+Math.random()*3);}
    S.c4seq=null;
  }else{const nums=S.c4seq;const step=W/(nums.length+1);ctx.font='bold 26px IBM Plex Mono,monospace';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle='#1a1825';nums.forEach((n,i)=>ctx.fillText(n,(i+1)*step,H/2));}
}
function updSeq4(){document.getElementById('c4-entered').textContent=S.c4entered.length?S.c4entered.join(' '):'â€”';}
function chkC4(){if(S.c4entered.every((v,i)=>v===S.c4answer[i]))goNext();else fail('é€†é †ãŒé•ã„ã¾ã™');}

// â•â• C5 MATH â•â•
function initC5(){
  const a=5+~~(Math.random()*20),b=2+~~(Math.random()*10),c=1+~~(Math.random()*5),d=2+~~(Math.random()*8);
  S.c5answer=(a*b)-(c*d)+Math.floor(Math.sqrt(a*b));
  document.getElementById('c5-math').textContent=`( ${a} Ã— ${b} ) âˆ’ ( ${c} Ã— ${d} ) + âŒŠâˆš(${a}Ã—${b})âŒ‹\n= ?`;
  const i=document.getElementById('c5-in');i.value='';i.focus();i.onkeydown=e=>{if(e.key==='Enter')chkC5();};
}
function chkC5(){if(+document.getElementById('c5-in').value===S.c5answer)goNext();else{shake('c5-in');fail(`ä¸æ­£è§£ / ${S.c5answer}`);}}

// â•â• C6 STROOP â•â•
const COLS=[{n:'ã‚ã‹',h:'#d63031'},{n:'ã‚ãŠ',h:'#0984e3'},{n:'ãã„ã‚',h:'#f9ca24'},{n:'ã¿ã©ã‚Š',h:'#00b894'},{n:'ã‚€ã‚‰ã•ã',h:'#6c5ce7'},{n:'ãã‚',h:'#2d3436'},{n:'ã‚ªãƒ¬ãƒ³ã‚¸',h:'#e17055'},{n:'ã¿ãšã„ã‚',h:'#74b9ff'}];
function initC6(){
  S.c6sel=-1;const ti=~~(Math.random()*COLS.length);const tg=COLS[ti];
  let di;do{di=~~(Math.random()*COLS.length);}while(di===ti);
  document.getElementById('c6-word').textContent=tg.n;document.getElementById('c6-word').style.color=COLS[di].h;
  let opts=[...COLS].sort(()=>Math.random()-0.5).slice(0,6);
  if(!opts.find(c=>c.n===tg.n))opts[~~(Math.random()*opts.length)]=tg;
  S.c6correct=opts.findIndex(c=>c.n===tg.n);
  const row=document.getElementById('c6-swatches');row.innerHTML='';
  opts.forEach((col,i)=>{const s=document.createElement('div');s.className='ec-swatch';s.style.background=col.h;const lb=document.createElement('div');lb.className='ec-swatch-label';lb.textContent=col.n;s.appendChild(lb);s.onclick=()=>{document.querySelectorAll('.ec-swatch').forEach(x=>x.classList.remove('sel'));s.classList.add('sel');S.c6sel=i;};row.appendChild(s);});
}
function chkC6(){if(S.c6sel<0){setStatus('warn','è‰²ã‚’é¸ã‚“ã§ãã ã•ã„');return;}if(S.c6sel===S.c6correct)goNext();else fail('ã‚¹ãƒˆãƒ«ãƒ¼ãƒ—ã«å¼•ã£ã‹ã‹ã£ãŸ');}

// â•â• C7 DIAL â•â•
function initC7(){
  S.c7angle=Math.random()*360;const tgt=20+~~(Math.random()*320);S.c7target={min:(tgt-12+360)%360,max:(tgt+12)%360};
  document.getElementById('c7-target-label').textContent=`ç›®æ¨™: ${tgt}Â° Â± 12Â°`;updDial();
  const dial=document.getElementById('c7-dial');let last=null;
  const ga=e=>{const r=dial.getBoundingClientRect();const cx=(e.touches?e.touches[0].clientX:e.clientX)-(r.left+r.width/2);const cy=(e.touches?e.touches[0].clientY:e.clientY)-(r.top+r.height/2);return(Math.atan2(cy,cx)*180/Math.PI+90+360)%360;};
  dial.onmousedown=e=>{S.c7drag=true;last=ga(e);};document.onmousemove=e=>{if(!S.c7drag)return;const a=ga(e);S.c7angle=(S.c7angle+(a-last)+360)%360;last=a;updDial();};document.onmouseup=()=>{S.c7drag=false;};
  dial.ontouchstart=e=>{S.c7drag=true;last=ga(e);e.preventDefault();};document.ontouchmove=e=>{if(!S.c7drag)return;const a=ga(e);S.c7angle=(S.c7angle+(a-last)+360)%360;last=a;updDial();e.preventDefault();};document.ontouchend=()=>{S.c7drag=false;};
}
function updDial(){const a=S.c7angle,rad=(a-90)*Math.PI/180,r=54;const h=document.getElementById('c7-handle');h.style.left=(50+r*Math.cos(rad))+'%';h.style.top=(50+r*Math.sin(rad))+'%';h.style.transform='translate(-50%,-50%)';document.getElementById('c7-hint').textContent=`ç¾åœ¨: ${Math.round(a)}Â°`;}
function chkC7(){const a=S.c7angle,{min,max}=S.c7target;const ok=min<=max?a>=min&&a<=max:(a>=min||a<=max);if(ok)goNext();else fail('è§’åº¦ãŒãšã‚Œã¦ã„ã¾ã™');}

// â•â• C8 MORSE â•â•
const MORSE={'0':'-----','1':'.----','2':'..---','3':'...--','4':'....-','5':'.....','6':'-....','7':'--...','8':'---..','9':'----.'};
function initC8(){
  const num=10+~~(Math.random()*90);document.getElementById('c8-morse').textContent=String(num).split('').map(c=>MORSE[c]).join('  /  ');S.c8answer=String(num);
  const opts=new Set([num]);while(opts.size<6)opts.add(10+~~(Math.random()*90));
  const arr=[...opts].sort(()=>Math.random()-0.5);const cont=document.getElementById('c8-opts');cont.innerHTML='';
  arr.forEach(n=>{const b=document.createElement('button');b.className='ec-morse-btn';b.textContent=n;b.onclick=()=>{if(String(n)===S.c8answer)goNext();else fail('ãƒ¢ãƒ¼ãƒ«ã‚¹è§£èª­ãƒŸã‚¹');};cont.appendChild(b);});
}

// â•â• C9 COORDINATE CLICK â•â•
function initC9(){
  S.c9click=null;const cv=document.getElementById('c9-cv');cv.width=cv.clientWidth||480;const W=cv.width,H=200;
  const tx=50+~~(Math.random()*(W-100)),ty=50+~~(Math.random()*(H-100));S.c9target={x:tx,y:ty};drawCoord(cv,tx,ty,null);
  cv.onclick=e=>{const r=cv.getBoundingClientRect();S.c9click={x:(e.clientX-r.left)*(W/r.width),y:(e.clientY-r.top)*(H/r.height)};drawCoord(cv,tx,ty,S.c9click);document.getElementById('c9-hint').textContent=`ã‚¯ãƒªãƒƒã‚¯ (${~~S.c9click.x},${~~S.c9click.y}) ç›®æ¨™ (${tx},${ty})`;};
}
function drawCoord(cv,tx,ty,click){
  const W=cv.width,H=cv.height,ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  ctx.strokeStyle='rgba(0,0,0,0.07)';ctx.lineWidth=1;for(let x=0;x<W;x+=20){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,H);ctx.stroke();}for(let y=0;y<H;y+=20){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(W,y);ctx.stroke();}
  ctx.strokeStyle='rgba(0,0,0,0.2)';ctx.lineWidth=1.5;ctx.beginPath();ctx.moveTo(30,0);ctx.lineTo(30,H);ctx.stroke();ctx.beginPath();ctx.moveTo(0,H-20);ctx.lineTo(W,H-20);ctx.stroke();
  ctx.fillStyle='rgba(0,0,0,0.3)';ctx.font='8px IBM Plex Mono,monospace';for(let x=50;x<W;x+=40)ctx.fillText(x-30,x-4,H-6);for(let y=20;y<H-20;y+=40)ctx.fillText(H-20-y,4,y+4);
  for(let i=0;i<18;i++){const px=40+Math.random()*(W-60),py=10+Math.random()*(H-40);ctx.beginPath();ctx.arc(px,py,3,0,Math.PI*2);ctx.fillStyle='rgba(9,132,227,0.35)';ctx.fill();}
  const s=9;ctx.strokeStyle='#d63031';ctx.lineWidth=2.5;ctx.beginPath();ctx.moveTo(tx-s,ty-s);ctx.lineTo(tx+s,ty+s);ctx.stroke();ctx.beginPath();ctx.moveTo(tx+s,ty-s);ctx.lineTo(tx-s,ty+s);ctx.stroke();
  if(click){ctx.beginPath();ctx.arc(click.x,click.y,5,0,Math.PI*2);ctx.fillStyle='#00b894';ctx.fill();ctx.strokeStyle='rgba(0,184,148,0.25)';ctx.lineWidth=10;ctx.beginPath();ctx.arc(click.x,click.y,11,0,Math.PI*2);ctx.stroke();}
}
function chkC9(){if(!S.c9click){setStatus('warn','ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„');return;}const dx=S.c9click.x-S.c9target.x,dy=S.c9click.y-S.c9target.y;if(Math.sqrt(dx*dx+dy*dy)<=12)goNext();else fail('ãšã‚Œã¦ã„ã¾ã™ (Â±12px)');}

// â•â• C10 SORT â•â•
function initC10(){
  const nums=Array.from({length:5},()=>1+~~(Math.random()*99)).sort(()=>Math.random()-0.5);S.c10answer=[...nums].sort((a,b)=>a-b);S.c10slots=Array(5).fill(null);
  const sl=document.getElementById('c10-slots');sl.innerHTML='';for(let i=0;i<5;i++){const s=document.createElement('div');s.className='ec-sort-slot';s.dataset.i=i;s.textContent=i+1;sl.appendChild(s);}
  const it=document.getElementById('c10-items');it.innerHTML='';
  nums.forEach((n,i)=>{const el=document.createElement('div');el.className='ec-sort-num';el.textContent=n;el.onclick=()=>{if(el.classList.contains('used'))return;const si=S.c10slots.findIndex(v=>v===null);if(si<0)return;S.c10slots[si]=n;el.classList.add('used');const slot=document.querySelector(`.ec-sort-slot[data-i="${si}"]`);slot.textContent=n;slot.classList.add('filled');};it.appendChild(el);});
}
function chkC10(){if(S.c10slots.includes(null)){setStatus('warn','ã™ã¹ã¦é¸ã‚“ã§ãã ã•ã„');return;}if(S.c10slots.every((v,i)=>v===S.c10answer[i]))goNext();else fail('ä¸¦ã³é †ãŒé•ã„ã¾ã™');}

// â•â• C11 REACTION â•â•
function killReact(){clearTimeout(S.c11t);}
function drawReact(color,label){
  const cv=document.getElementById('c11-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=118;
  const ctx=cv.getContext('2d');ctx.fillStyle=color;ctx.fillRect(0,0,W,H);
  if(label){ctx.fillStyle='rgba(255,255,255,0.75)';ctx.font='bold 13px IBM Plex Mono,monospace';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(label,W/2,H/2);}
}
function initC11(){S.c11red=false;S.c11done=false;killReact();drawReact('#f5f2ed','');document.getElementById('c11-hint').textContent='å¾…æ©Ÿä¸­...';
  const fakes=~~(Math.random()*4)+1;let delay=700+~~(Math.random()*1400);
  for(let f=0;f<fakes;f++){const fd=delay;setTimeout(()=>{if(S.c11done)return;drawReact('rgba(214,48,49,0.18)','');setTimeout(()=>{if(!S.c11done)drawReact('#f5f2ed','');},120);},fd);delay+=700+~~(Math.random()*1400);}
  S.c11t=setTimeout(()=>{if(S.c11done)return;S.c11red=true;drawReact('#d63031','CLICK NOW');document.getElementById('c11-hint').textContent='ä»Šã™ãï¼';},delay);
}
function reactClick(){if(S.c11done)return;S.c11done=true;killReact();if(S.c11red)goNext();else fail('æ—©ã™ã');}

// â•â• C12 BINARY â•â•
function initC12(){
  const n=1+~~(Math.random()*127);S.c12answer=n;document.getElementById('c12-bin').textContent=n.toString(2).padStart(7,'0');
  const opts=new Set([n]);while(opts.size<8)opts.add(1+~~(Math.random()*127));
  const arr=[...opts].sort(()=>Math.random()-0.5);const cont=document.getElementById('c12-opts');cont.innerHTML='';
  arr.forEach(v=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=v;b.onclick=()=>{if(v===S.c12answer)goNext();else fail(`ä¸æ­£è§£ / ${S.c12answer}`);};cont.appendChild(b);});
}

// â•â• C13 HEX COLOR â•â•
function initC13(){
  S.c13sel=-1;const r=~~(Math.random()*200)+20,g=~~(Math.random()*200)+20,b=~~(Math.random()*200)+20;
  const hex=`#${r.toString(16).padStart(2,'0')}${g.toString(16).padStart(2,'0')}${b.toString(16).padStart(2,'0')}`.toUpperCase();
  document.getElementById('c13-hex').textContent=hex;
  const options=[[r,g,b]];while(options.length<5){const dr=(Math.random()-.5)*80,dg=(Math.random()-.5)*80,db=(Math.random()-.5)*80;const nr=Math.max(0,Math.min(255,r+dr)),ng=Math.max(0,Math.min(255,g+dg)),nb=Math.max(0,Math.min(255,b+db));if(Math.abs(nr-r)+Math.abs(ng-g)+Math.abs(nb-b)>25)options.push([nr,ng,nb]);}
  options.sort(()=>Math.random()-0.5);S.c13correct=options.findIndex(o=>o[0]===r&&o[1]===g&&o[2]===b);
  const row=document.getElementById('c13-swatches');row.innerHTML='';
  options.forEach((rgb,i)=>{const sw=document.createElement('div');sw.className='ec-hex-swatch';sw.style.background=`rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;sw.onclick=()=>{document.querySelectorAll('.ec-hex-swatch').forEach(x=>x.classList.remove('sel'));sw.classList.add('sel');S.c13sel=i;};row.appendChild(sw);});
}
function chkC13(){if(S.c13sel<0){setStatus('warn','è‰²ã‚’é¸ã‚“ã§ãã ã•ã„');return;}if(S.c13sel===S.c13correct)goNext();else fail('HEXã‚«ãƒ©ãƒ¼ãŒä¸€è‡´ã—ã¾ã›ã‚“');}

// â•â• C14 WAVEFORM â•â•
function drawWave(cv,freq,amp,phase){
  cv.width=cv.clientWidth||200;const W=cv.width,H=cv.height;const ctx=cv.getContext('2d');
  ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);ctx.strokeStyle='rgba(0,0,0,0.1)';ctx.lineWidth=1;
  for(let y=H/4;y<H;y+=H/4){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(W,y);ctx.stroke();}
  ctx.strokeStyle='#1a1825';ctx.lineWidth=2;ctx.beginPath();
  for(let x=0;x<W;x++){const t=x/W*Math.PI*2*freq+phase;const y=H/2-Math.sin(t)*amp*(H/2-8);x===0?ctx.moveTo(x,y):ctx.lineTo(x,y);}ctx.stroke();
}
function initC14(){
  S.c14sel=-1;const freq=1+~~(Math.random()*4),amp=0.4+Math.random()*0.55,phase=Math.random()*Math.PI*2;S.c14p={freq,amp,phase};
  const tcv=document.getElementById('c14-target');tcv.width=tcv.clientWidth||460;drawWave(tcv,freq,amp,phase);
  const oc=document.getElementById('c14-opts');oc.innerHTML='';
  const variants=[[freq,amp,phase]];
  while(variants.length<4){const wf=Math.max(1,freq+(~~(Math.random()*2)+1)*(Math.random()>.5?1:-1));const wa=Math.max(.2,Math.min(.95,amp+(Math.random()-.5)*.4));const wp=(phase+Math.PI/2+Math.random()*Math.PI)%(Math.PI*2);variants.push([wf,wa,wp]);}
  variants.sort(()=>Math.random()-0.5);S.c14correct=variants.findIndex(p=>p[0]===freq&&Math.abs(p[1]-amp)<.001&&Math.abs(p[2]-phase)<.001);
  variants.forEach((p,i)=>{
    const wrap=document.createElement('div');wrap.className='ec-wave-opt';wrap.dataset.i=i;
    const cv=document.createElement('canvas');cv.height=70;cv.style.cssText='display:block;width:100%;height:70px;';
    wrap.appendChild(cv);wrap.onclick=()=>{document.querySelectorAll('.ec-wave-opt').forEach(x=>x.classList.remove('sel'));wrap.classList.add('sel');S.c14sel=i;};
    oc.appendChild(wrap);requestAnimationFrame(()=>{cv.width=cv.clientWidth||200;drawWave(cv,p[0],p[1],p[2]);});
  });
}
function chkC14(){if(S.c14sel<0){setStatus('warn','é¸ã‚“ã§ãã ã•ã„');return;}if(S.c14sel===S.c14correct)goNext();else fail('æ³¢å½¢ãŒä¸€è‡´ã—ã¾ã›ã‚“');}

// â•â• C15 SHAPE COUNT â•â•
function initC15(){
  const target=SHAPES[~~(Math.random()*SHAPES.length)];
  const cv=document.getElementById('c15-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=200;
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  const total=18+~~(Math.random()*8);const targetCount=3+~~(Math.random()*5);
  document.getElementById('c15-q').innerHTML=`<strong>ã€Œ${shapeJP(target)}ã€</strong>ãŒä½•å€‹ã‚ã‚Šã¾ã™ã‹ï¼Ÿ<br><small style="color:var(--dim)">å›è»¢ãƒ»ç¸®å°ãƒ»é‡ãªã‚Šã‚ã‚Šã€‚å…¨${total}å€‹ã®ä¸­ã‹ã‚‰</small>`;
  let placed=0;
  for(let i=0;i<total;i++){
    const isT=placed<targetCount&&(i>=(total-targetCount)||Math.random()<.45);
    const sh=isT?target:SHAPES.filter(s=>s!==target)[~~(Math.random()*(SHAPES.length-1))];
    if(isT)placed++;
    drawShape(ctx,sh,15+Math.random()*(W-30),15+Math.random()*(H-30),7+Math.random()*15,`rgba(26,24,37,${0.35+Math.random()*0.6})`,Math.random()*Math.PI*2);
  }
  S.c15answer=placed;const opts=new Set([placed]);while(opts.size<8){const v=Math.max(1,placed+~~((Math.random()-.5)*8));opts.add(v);}
  const arr=[...opts].sort((a,b)=>a-b);const cont=document.getElementById('c15-opts');cont.innerHTML='';
  arr.forEach(v=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=v;b.onclick=()=>{if(v===S.c15answer)goNext();else fail(`ä¸æ­£è§£ / ${S.c15answer}`);};cont.appendChild(b);});
}

// â•â• C16 PATTERN MEMORY â•â•
function initC16(){
  const size=25;S.c16pattern=Array.from({length:size},()=>Math.random()>.55?1:0);S.c16input=Array(size).fill(0);S.c16phase='show';
  document.getElementById('c16-phase').textContent='3ç§’é–“è¨˜æ†¶ã—ã¦ãã ã•ã„';
  document.getElementById('c16-btn').style.display='none';
  const g=document.getElementById('c16-grid');g.innerHTML='';
  S.c16pattern.forEach((v,i)=>{const c=document.createElement('div');c.className='ec-mem-cell '+(v?'on':'off');c.dataset.i=i;g.appendChild(c);});
  setTimeout(()=>{
    S.c16phase='input';document.getElementById('c16-phase').textContent='å†ç¾ã—ã¦ãã ã•ã„ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§ã‚ªãƒ³/ã‚ªãƒ•ï¼‰';
    document.getElementById('c16-btn').style.display='block';
    g.innerHTML='';S.c16input=Array(size).fill(0);
    for(let i=0;i<size;i++){const c=document.createElement('div');c.className='ec-mem-cell off inp';c.onclick=()=>{S.c16input[i]=S.c16input[i]?0:1;c.className='ec-mem-cell inp '+(S.c16input[i]?'sel':'off');};g.appendChild(c);}
  },3000);
}
function chkC16(){
  if(S.c16pattern.every((v,i)=>v===S.c16input[i]))goNext();else fail('ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä¸€è‡´ã—ã¾ã›ã‚“');
}

// â•â• C17 COUNT TAP â•â•
function initC17(){
  S.c17target=8+~~(Math.random()*20);S.c17count=0;
  document.getElementById('c17-count').textContent='0';document.getElementById('c17-target-label').textContent=`ç›®æ¨™: ${S.c17target} å›`;
}
function tapIt(){S.c17count++;document.getElementById('c17-count').textContent=S.c17count;}
function chkC17(){if(S.c17count===S.c17target)goNext();else fail(`${S.c17count}å› â€” ç›®æ¨™ã¯${S.c17target}å›`);}

// â•â• C18 SIMON â•â•
const SIMON_COLS=['#d63031','#0984e3','#00b894','#fdcb6e'];
const SIMON_JP=['èµ¤','é’','ç·‘','é»„'];
function initC18(){
  const seqLen=4+~~(Math.random()*3);S.c18seq=Array.from({length:seqLen},()=>~~(Math.random()*4));S.c18input=[];S.c18phase='show';
  document.getElementById('c18-phase').textContent='ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å†ç”Ÿä¸­...';document.getElementById('c18-progress').textContent='â€”';
  const g=document.getElementById('c18-grid');g.innerHTML='';
  SIMON_COLS.forEach((col,i)=>{const b=document.createElement('button');b.className='ec-simon-btn';b.style.background=col;b.style.filter='brightness(0.5)';b.dataset.i=i;const lb=document.createElement('div');lb.className='ec-simon-label';lb.textContent=SIMON_JP[i];b.appendChild(lb);g.appendChild(b);});
  // play sequence
  let delay=800;S.c18seq.forEach((idx,j)=>{setTimeout(()=>{const btns=[...document.querySelectorAll('.ec-simon-btn')];btns[idx].style.filter='brightness(1.4)';setTimeout(()=>btns[idx].style.filter='brightness(0.5)',350);},delay);delay+=600;});
  setTimeout(()=>{
    S.c18phase='input';document.getElementById('c18-phase').textContent='åŒã˜é †ã«æŠ¼ã—ã¦ãã ã•ã„';
    document.querySelectorAll('.ec-simon-btn').forEach(b=>{b.style.filter='brightness(0.8)';b.onclick=()=>{
      if(S.c18phase!=='input')return;const idx=+b.dataset.i;S.c18input.push(idx);b.style.filter='brightness(1.4)';setTimeout(()=>b.style.filter='brightness(0.8)',200);
      document.getElementById('c18-progress').textContent=S.c18input.map(i=>SIMON_JP[i]).join(' â†’ ');
      const pos=S.c18input.length-1;if(S.c18input[pos]!==S.c18seq[pos]){fail('ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãŒé•ã„ã¾ã™');return;}
      if(S.c18input.length===S.c18seq.length)goNext();
    };});
  },delay+400);
}

// â•â• C19 LOGIC PUZZLE â•â•
const LOGIC_Q=[
  {q:'Aã¯Bã‚ˆã‚Šå¤§ãã„ã€‚Bã¯Cã‚ˆã‚Šå¤§ãã„ã€‚æœ€ã‚‚å°ã•ã„ã®ã¯ï¼Ÿ',opts:['A','B','C','ã‚ã‹ã‚‰ãªã„'],ans:'C'},
  {q:'å…¨å“¡ãŒæ­£ç›´è€…ã‹å˜˜ã¤ãã§ã‚ã‚‹ã€‚\nã‚¢ã¯ã€Œã‚¤ã¯å˜˜ã¤ãã ã€ã¨è¨€ã£ãŸã€‚\nã‚¤ã¯ã€Œã‚¢ã¯æ­£ç›´è€…ã ã€ã¨è¨€ã£ãŸã€‚\nã‚¢ã¯æ­£ç›´è€…ã‹ï¼Ÿ',opts:['æ­£ç›´è€…','å˜˜ã¤ã','ã©ã¡ã‚‰ã§ã‚‚ãªã„','åˆ¤æ–­ä¸èƒ½'],ans:'å˜˜ã¤ã'},
  {q:'èµ¤ãƒ»é’ãƒ»ç·‘ã®3ã¤ã®ç®±ãŒã‚ã‚‹ã€‚\nã€Œé‡‘è²¨ã¯èµ¤ã‹é’ã«å…¥ã£ã¦ã„ã‚‹ã€ãŒå˜˜ã€‚\nã€Œé‡‘è²¨ã¯èµ¤ã«å…¥ã£ã¦ã„ã‚‹ã€ãŒå˜˜ã€‚\né‡‘è²¨ã¯ã©ã“ï¼Ÿ',opts:['èµ¤','é’','ç·‘','ç®±ã®å¤–'],ans:'ç·‘'},
  {q:'5äººãŒä¸€åˆ—ã«ä¸¦ã‚“ã§ã„ã‚‹ã€‚\nAã¯Bã®ç›´å¾Œã€‚Cã¯Dã®å‰ã€‚Eã¯Aã®å¾Œã€‚\n1ç•ªå‰ã¯èª°ï¼Ÿ',opts:['A','B','C','D'],ans:'D'},
  {q:'ã€Œã“ã®æ–‡ã¯å˜˜ã ã€ã¯çœŸã‹å½ã‹ï¼Ÿ',opts:['çœŸ','å½','ã©ã¡ã‚‰ã§ã‚‚ãªã„','åˆ¤æ–­ä¸èƒ½'],ans:'åˆ¤æ–­ä¸èƒ½'},
  {q:'ã™ã¹ã¦ã®çŒ«ã¯å‹•ç‰©ã€‚ä¸€éƒ¨ã®å‹•ç‰©ã¯ç™½ã„ã€‚\nç™½ã„çŒ«ã¯å¿…ãšå­˜åœ¨ã™ã‚‹ï¼Ÿ',opts:['å¿…ãšå­˜åœ¨ã™ã‚‹','å­˜åœ¨ã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹','å­˜åœ¨ã—ãªã„','ã‚ã‹ã‚‰ãªã„'],ans:'å­˜åœ¨ã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹'},
];
function initC19(){
  const q=LOGIC_Q[~~(Math.random()*LOGIC_Q.length)];S.c19answer=q.ans;
  document.getElementById('c19-logic').textContent=q.q;
  const cont=document.getElementById('c19-opts');cont.innerHTML='';
  q.opts.sort(()=>Math.random()-0.5).forEach(o=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=o;b.onclick=()=>{if(o===S.c19answer)goNext();else fail(`ä¸æ­£è§£ / æ­£è§£: ${S.c19answer}`);};cont.appendChild(b);});
}

// â•â• C20 TYPE OUT â•â•
const TYPE_CHARS='ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz0123456789!@#$%&*?';
function initC20(){
  S.c20target=Array.from({length:9},()=>TYPE_CHARS[~~(Math.random()*TYPE_CHARS.length)]).join('');
  document.getElementById('c20-target').textContent=S.c20target;
  const i=document.getElementById('c20-in');i.value='';i.focus();i.onkeydown=e=>{if(e.key==='Enter')chkC20();};
}
function chkC20(){if(document.getElementById('c20-in').value===S.c20target)goNext();else{shake('c20-in');fail('ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ / æ­£è§£: '+S.c20target);}}

// â•â• C21 DOUBLE SLIDER â•â•
function initC21(){
  const am=10+~~(Math.random()*78);S.c21atarget={min:am,max:am+5};S.c21aval=0;
  const bm=10+~~(Math.random()*78);S.c21btarget={min:bm,max:bm+5};S.c21bval=0;
  document.getElementById('c21a-zone').style.left=am+'%';document.getElementById('c21a-zone').style.width='5%';
  document.getElementById('c21b-zone').style.left=bm+'%';document.getElementById('c21b-zone').style.width='5%';
  updSlider3('c21a',0);updSlider3('c21b',0);
  mkSlider('c21a-track','c21aval','c21adrag');mkSlider('c21b-track','c21bval','c21bdrag');
}
function chkC21(){
  const aOk=S.c21aval>=S.c21atarget.min&&S.c21aval<=S.c21atarget.max;
  const bOk=S.c21bval>=S.c21btarget.min&&S.c21bval<=S.c21btarget.max;
  if(aOk&&bOk)goNext();else fail(!aOk&&!bOk?'Aãƒ»Bã¨ã‚‚å¤–ã‚Œ':`${!aOk?'A':'B'}ãŒå¤–ã‚Œ`);
}

// â•â• C22 SEQUENCE NEXT â•â•
function initC22(){
  const seqs=[
    ()=>{const a=~~(Math.random()*5)+1,s=~~(Math.random()*5)+2;const arr=Array.from({length:5},(_,i)=>a+s*i);return{arr,ans:arr[arr.length-1]+s,type:'ç­‰å·®'};},
    ()=>{const a=~~(Math.random()*3)+2,r=~~(Math.random()*2)+2;const arr=Array.from({length:4},(_,i)=>a*Math.pow(r,i));return{arr,ans:arr[arr.length-1]*r,type:'ç­‰æ¯”'};},
    ()=>{const arr=[1,1];while(arr.length<6)arr.push(arr[arr.length-1]+arr[arr.length-2]);const s=~~(Math.random()*2)+1;return{arr:arr.slice(0,5).map(v=>v*s),ans:arr[5]*s,type:'ãƒ•ã‚£ãƒœãƒŠãƒƒãƒç³»'};},
    ()=>{const a=~~(Math.random()*3)+1;const arr=Array.from({length:5},(_,i)=>a*(i+1)*(i+1));return{arr,ans:a*36,type:'2ä¹—'};},
  ];
  const {arr,ans}=seqs[~~(Math.random()*seqs.length)]();S.c22answer=ans;
  document.getElementById('c22-seq').textContent=arr.join(' , ') + ' , ?';
  const opts=new Set([ans]);while(opts.size<4){const d=~~((Math.random()-.5)*ans*.5);opts.add(ans+d);}
  const a=[...opts].sort(()=>Math.random()-0.5);const cont=document.getElementById('c22-opts');cont.innerHTML='';
  a.forEach(v=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=v;b.onclick=()=>{if(v===S.c22answer)goNext();else fail(`ä¸æ­£è§£ / ${S.c22answer}`);};cont.appendChild(b);});
}

// â•â• C23 FLASH SEQUENCE â•â•
function initC23(){
  const seqLen=4+~~(Math.random()*3);const cells=16;S.c23seq=[];while(S.c23seq.length<seqLen){const p=~~(Math.random()*cells);if(!S.c23seq.includes(p))S.c23seq.push(p);}
  S.c23input=[];S.c23phase='show';
  document.getElementById('c23-phase').textContent='å…‰ã£ãŸä½ç½®ã‚’é †ç•ªã«è¨˜æ†¶ã—ã¦ãã ã•ã„';document.getElementById('c23-prog').textContent='â€”';
  const g=document.getElementById('c23-grid');g.innerHTML='';
  for(let i=0;i<cells;i++){const c=document.createElement('div');c.className='ec-mem-cell off';c.dataset.i=i;g.appendChild(c);}
  let delay=500;S.c23seq.forEach((pos,j)=>{
    setTimeout(()=>{const c=g.querySelector(`[data-i="${pos}"]`);c.className='ec-mem-cell on';setTimeout(()=>c.className='ec-mem-cell off',400);},delay);delay+=700;
  });
  setTimeout(()=>{
    S.c23phase='input';document.getElementById('c23-phase').textContent='é †ç•ªã«ã‚¿ãƒƒãƒ—ã—ã¦ãã ã•ã„';
    g.querySelectorAll('.ec-mem-cell').forEach(c=>{c.className='ec-mem-cell off inp';c.onclick=()=>{
      if(S.c23phase!=='input')return;const pos=+c.dataset.i;S.c23input.push(pos);c.className='ec-mem-cell inp on';setTimeout(()=>c.className='ec-mem-cell inp off',300);
      document.getElementById('c23-prog').textContent=`${S.c23input.length}/${S.c23seq.length}`;
      const idx=S.c23input.length-1;if(S.c23input[idx]!==S.c23seq[idx]){fail('é †ç•ªãŒé•ã„ã¾ã™');return;}
      if(S.c23input.length===S.c23seq.length)goNext();
    };});
  },delay+300);
}

// â•â• C24 TWO POINT CLICK â•â•
function initC24(){
  S.c24step=0;S.c24clickA=null;S.c24clickB=null;
  const cv=document.getElementById('c24-cv');cv.width=cv.clientWidth||480;const W=cv.width,H=210;
  const tA={x:40+~~(Math.random()*(W/2-60)),y:30+~~(Math.random()*(H-60))};
  const tB={x:W/2+20+~~(Math.random()*(W/2-60)),y:30+~~(Math.random()*(H-60))};
  S.c24tA=tA;S.c24tB=tB;drawCoord2(cv,tA,tB,null,null);
  cv.onclick=e=>{
    const r=cv.getBoundingClientRect();const x=(e.clientX-r.left)*(W/r.width),y=(e.clientY-r.top)*(H/r.height);
    if(S.c24step===0){S.c24clickA={x,y};S.c24step=1;drawCoord2(cv,tA,tB,S.c24clickA,null);document.getElementById('c24-hint').textContent='æ¬¡ã«é’ã„ Ã— ã‚’ã‚¯ãƒªãƒƒã‚¯';}
    else if(S.c24step===1){S.c24clickB={x,y};S.c24step=2;drawCoord2(cv,tA,tB,S.c24clickA,S.c24clickB);}
  };
}
function drawCoord2(cv,tA,tB,cA,cB){
  drawCoord(cv,tA.x,tA.y,cA);// reuse drawCoord
  const ctx=cv.getContext('2d');const s=9;ctx.strokeStyle='#0984e3';ctx.lineWidth=2.5;ctx.beginPath();ctx.moveTo(tB.x-s,tB.y-s);ctx.lineTo(tB.x+s,tB.y+s);ctx.stroke();ctx.beginPath();ctx.moveTo(tB.x+s,tB.y-s);ctx.lineTo(tB.x-s,tB.y+s);ctx.stroke();
  if(cB){ctx.beginPath();ctx.arc(cB.x,cB.y,5,0,Math.PI*2);ctx.fillStyle='#0984e3';ctx.fill();}
}
function chkC24(){
  if(!S.c24clickA||!S.c24clickB){setStatus('warn','2ã¤ã¨ã‚‚ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„');return;}
  const dxA=S.c24clickA.x-S.c24tA.x,dyA=S.c24clickA.y-S.c24tA.y;
  const dxB=S.c24clickB.x-S.c24tB.x,dyB=S.c24clickB.y-S.c24tB.y;
  if(Math.sqrt(dxA*dxA+dyA*dyA)<=14&&Math.sqrt(dxB*dxB+dyB*dyB)<=14)goNext();else fail('ãšã‚Œã¦ã„ã¾ã™ (Â±14px)');
}

// â•â• C25 TIME SENSE â•â•
function initC25(){
  S.c25target=3+~~(Math.random()*7);S.c25startTime=0;
  document.getElementById('c25-target-label').textContent=S.c25target;
  const btn=document.getElementById('c25-btn');btn.disabled=true;btn.textContent='START';btn.style.background='var(--green)';
  btn.onclick=()=>{
    if(S.c25startTime===0){S.c25startTime=Date.now();btn.textContent='NOW';btn.style.background='var(--ink)';}
    else{chkC25();}
  };setTimeout(()=>btn.disabled=false,200);
}
function chkC25(){
  const elapsed=(Date.now()-S.c25startTime)/1000;const diff=Math.abs(elapsed-S.c25target);
  if(diff<=0.8)goNext();else fail(`${elapsed.toFixed(2)}ç§’ â€” ç›®æ¨™${S.c25target}ç§’ (Â±0.8)`);
}

// â•â• C26 PATTERN FILL â•â•
function initC26(){
  const patterns=[
    {q:'1, 4, 9, 16, _',ans:'25',opts:['20','25','30','36']},
    {q:'A, C, E, G, _',ans:'I',opts:['H','I','J','K']},
    {q:'2, 6, 18, 54, _',ans:'162',opts:['108','162','216','324']},
    {q:'â—‹â–³â–¡â—‹â–³â–¡â—‹â–³_',ans:'â–¡',opts:['â—‹','â–³','â–¡','Ã—']},
    {q:'Z, Y, X, W, _',ans:'V',opts:['U','V','W','X']},
    {q:'1, 1, 2, 3, 5, 8, _',ans:'13',opts:['11','12','13','14']},
    {q:'æœˆ, ç«, æ°´, æœ¨, _',ans:'é‡‘',opts:['åœŸ','æ—¥','é‡‘','æœ¨']},
  ];
  const p=patterns[~~(Math.random()*patterns.length)];S.c26answer=p.ans;
  document.getElementById('c26-pattern').textContent=p.q;
  const cont=document.getElementById('c26-opts');cont.innerHTML='';
  p.opts.sort(()=>Math.random()-0.5).forEach(o=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=o;b.onclick=()=>{if(o===S.c26answer)goNext();else fail(`ä¸æ­£è§£ / ${S.c26answer}`);};cont.appendChild(b);});
}

// â•â• C27 SHELL GAME â•â•
function initC27(){
  S.c27cards=[0,1,2];S.c27red=~~(Math.random()*3);S.c27phase='show';
  const cv=document.getElementById('c27-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=160;
  drawShell(cv,S.c27cards,true,S.c27red);document.getElementById('c27-hint').textContent='èµ¤ã„ã‚«ãƒ¼ãƒ‰ã®ä½ç½®ã‚’è¦šãˆã¦ãã ã•ã„';
  const btns=document.getElementById('c27-btns');btns.innerHTML='';
  setTimeout(()=>{
    // shuffle animation
    const moves=6+~~(Math.random()*5);let delay=0;
    for(let m=0;m<moves;m++){setTimeout(()=>{
      const a=~~(Math.random()*3),b=(a+1+~~(Math.random()*2))%3;[S.c27cards[a],S.c27cards[b]]=[S.c27cards[b],S.c27cards[a]];
      if(S.c27cards[a]===S.c27red)S.c27red=a;else if(S.c27cards[b]===S.c27red)S.c27red=b;
      // track where red slot went after swap
      const newRed=S.c27cards.indexOf(0); // card 0 is always the red card
      drawShell(cv,S.c27cards,false,newRed);
      document.getElementById('c27-hint').textContent=`ã‚·ãƒ£ãƒƒãƒ•ãƒ«ä¸­... ${m+1}/${moves}`;
    },delay);delay+=350;}
    setTimeout(()=>{
      S.c27phase='choose';document.getElementById('c27-hint').textContent='èµ¤ã„ã‚«ãƒ¼ãƒ‰ã¯ã©ã‚Œï¼Ÿ';
      const redPos=S.c27cards.indexOf(0);// card index 0 = red
      for(let i=0;i<3;i++){const b=document.createElement('button');b.className='ec-btn';b.style.flex='1';b.textContent=`${i+1}ç•ª`;b.onclick=()=>{if(i===redPos)goNext();else fail('å¤–ã‚Œï¼');};btns.appendChild(b);}
    },delay+200);
  },1500);
}
function drawShell(cv,cards,showColor,redSlot){
  const W=cv.width,H=160,ctx=cv.getContext('2d'),cw=100,ch=70,gap=(W-cw*3)/4;
  ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  for(let i=0;i<3;i++){
    const x=gap+i*(cw+gap),y=(H-ch)/2;
    const isRed=i===redSlot;
    ctx.fillStyle=showColor&&isRed?'#d63031':'#1a1825';
    ctx.strokeStyle='var(--mid)';ctx.lineWidth=2;
    ctx.beginPath();ctx.roundRect(x,y,cw,ch,6);ctx.fill();ctx.stroke();
    ctx.fillStyle='white';ctx.font='bold 20px IBM Plex Mono,monospace';ctx.textAlign='center';ctx.textBaseline='middle';
    ctx.fillText(i+1,x+cw/2,y+ch/2);
  }
}

// â•â• C28 MIRROR â•â•
function initC28(){
  S.c28sel=-1;S.c28correct=-1;
  const shapes2=Array.from({length:3},()=>({type:SHAPES[~~(Math.random()*SHAPES.length)],x:20+~~(Math.random()*80),y:20+~~(Math.random()*80),r:10+~~(Math.random()*15),rot:(Math.random()-.5)*Math.PI}));
  const wrap=document.getElementById('c28-wrap');wrap.innerHTML='';
  // target
  const tw=120,th=120;const td=document.createElement('div');td.style.cssText='display:inline-block;border:1px solid var(--mid);border-radius:2px;margin-right:12px;vertical-align:top;';
  const tl=document.createElement('div');tl.style.cssText='font-family:var(--mono);font-size:9px;color:var(--dim);text-align:center;padding:4px;';tl.textContent='å…ƒ';
  const tcv=document.createElement('canvas');tcv.width=tw;tcv.height=th;tcv.style.cssText='display:block;';
  td.appendChild(tl);td.appendChild(tcv);wrap.appendChild(td);
  drawMirrorCv(tcv,shapes2,false,tw,th);
  // options: correct=hflip, wrong=vflip, wrong=scramble
  const opts=[
    {shapes:shapes2,flip:true},
    {shapes:shapes2.map(s=>({...s,y:th-s.y})),flip:false},
    {shapes:shapes2.map(s=>({...s,x:15+~~(Math.random()*90),y:15+~~(Math.random()*90)})),flip:false},
  ].sort(()=>Math.random()-0.5);
  S.c28correct=opts.findIndex(o=>o.flip===true);
  const og=document.createElement('div');og.style.cssText='display:inline-flex;gap:6px;';
  opts.forEach((opt,i)=>{
    const div=document.createElement('div');div.style.cssText='border:2px solid var(--mid);border-radius:2px;cursor:pointer;transition:border-color .1s;';div.setAttribute('data-c28i',i);
    const cv=document.createElement('canvas');cv.width=tw;cv.height=th;cv.style.display='block';div.appendChild(cv);
    div.onclick=()=>{document.querySelectorAll('[data-c28i]').forEach(x=>x.style.borderColor='var(--mid)');div.style.borderColor='var(--ink)';S.c28sel=i;};
    og.appendChild(div);drawMirrorCv(cv,opt.shapes,opt.flip,tw,th);
  });
  wrap.appendChild(og);
  const btn=document.createElement('button');btn.className='ec-btn';btn.style.marginTop='10px';btn.textContent='VERIFY';btn.onclick=()=>{if(S.c28sel<0){setStatus('warn','é¸ã‚“ã§ãã ã•ã„');return;}if(S.c28sel===S.c28correct)goNext();else fail('é¡åƒãŒä¸€è‡´ã—ã¾ã›ã‚“');};wrap.after(btn);
}
function drawMirrorCv(cv,shapes,flip,W,H){
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  shapes.forEach(({type,x,y,r,rot})=>drawShape(ctx,type,flip?W-x:x,y,r,'#1a1825',flip?-rot:rot));
}

// â•â• C29 SPAM TAP â•â•
function initC29(){
  S.c29target=15+~~(Math.random()*20);S.c29count=0;S.c29over=false;
  document.getElementById('c29-count').textContent='0';document.getElementById('c29-target-label').textContent=`ç›®æ¨™: ã´ã£ãŸã‚Š ${S.c29target} å›`;
}
function tapC29(){
  if(S.c29over)return;S.c29count++;document.getElementById('c29-count').textContent=S.c29count;
  if(S.c29count>S.c29target){S.c29over=true;fail(`${S.c29count}å› â€” ã‚ªãƒ¼ãƒãƒ¼ï¼`);}
}
function chkC29(){if(S.c29over)return;if(S.c29count===S.c29target)goNext();else fail(`${S.c29count}å› â€” ç›®æ¨™ã¯${S.c29target}å›`);}

// â•â• C30 DELAYED CLICK â•â•
function initC30(){
  S.c30target=2+~~(Math.random()*4);S.c30startTime=0;S.c30started=false;
  const btn=document.getElementById('c30-click-btn');btn.disabled=true;
  const cv=document.getElementById('c30-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=60;
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);ctx.fillStyle='var(--dim)';ctx.font='12px IBM Plex Mono,monospace';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('å¾…æ©Ÿä¸­... èµ¤ã„å††ãŒç¾ã‚ŒãŸã‚‰è¨ˆæ¸¬é–‹å§‹',W/2,H/2);
  document.getElementById('c30-sub').textContent=`${S.c30target} ç§’å¾Œã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ (Â±0.6s)`;
  setTimeout(()=>{
    S.c30startTime=Date.now();S.c30started=true;btn.disabled=false;
    const W2=cv.width;ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W2,H);ctx.fillStyle='#d63031';ctx.beginPath();ctx.arc(W2/2,H/2,18,0,Math.PI*2);ctx.fill();
    ctx.fillStyle='white';ctx.fillText('START',W2/2,H/2);
  },1500+~~(Math.random()*1500));
}
function chkC30(){
  if(!S.c30started){setStatus('warn','ã¾ã èµ¤ã„å††ãŒç¾ã‚Œã¦ã„ã¾ã›ã‚“');return;}
  const elapsed=(Date.now()-S.c30startTime)/1000;const diff=Math.abs(elapsed-S.c30target);
  if(diff<=0.6)goNext();else fail(`${elapsed.toFixed(2)}ç§’ â€” ç›®æ¨™${S.c30target}ç§’ (Â±0.6)`);
}

// â•â• C31 HEX MATH â•â•
function initC31(){
  const n=16+~~(Math.random()*239);S.c31answer=n;
  document.getElementById('c31-hex').textContent='0x'+n.toString(16).toUpperCase().padStart(2,'0');
  const opts=new Set([n]);while(opts.size<4){const v=16+~~(Math.random()*239);if(Math.abs(v-n)>3)opts.add(v);}
  const arr=[...opts].sort(()=>Math.random()-0.5);const cont=document.getElementById('c31-opts');cont.innerHTML='';
  arr.forEach(v=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=v;b.onclick=()=>{if(v===S.c31answer)goNext();else fail(`ä¸æ­£è§£ / ${S.c31answer}`);};cont.appendChild(b);});
}

// â•â• C32 MEMORY SORT â•â•
function initC32(){
  const nums=Array.from({length:5},()=>1+~~(Math.random()*99)).sort(()=>Math.random()-0.5);
  S.c32nums=nums;S.c32answer=[...nums].sort((a,b)=>a-b);S.c32slots=Array(5).fill(null);
  document.getElementById('c32-phase').textContent='3ç§’é–“è¨˜æ†¶ã—ã¦ãã ã•ã„';document.getElementById('c32-btn').style.display='none';
  document.getElementById('c32-slots').innerHTML='';document.getElementById('c32-items').innerHTML='';
  const cv=document.getElementById('c32-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=68;
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  ctx.font='bold 24px IBM Plex Mono,monospace';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle='#1a1825';
  const step=W/(nums.length+1);nums.forEach((n,i)=>ctx.fillText(n,(i+1)*step,H/2));
  setTimeout(()=>{
    // blur and erase
    const off=document.createElement('canvas');off.width=W;off.height=H;const oc=off.getContext('2d');oc.fillStyle='#f5f2ed';oc.fillRect(0,0,W,H);oc.save();oc.filter='blur(9px)';oc.font='bold 24px IBM Plex Mono,monospace';oc.textAlign='center';oc.textBaseline='middle';oc.fillStyle='rgba(0,0,0,.55)';nums.forEach((n,i)=>oc.fillText(n,(i+1)*step,H/2));oc.restore();ctx.putImageData(oc.getImageData(0,0,W,H),0,0);for(let i=0;i<600;i++){ctx.fillStyle=`rgba(245,242,237,${.3+Math.random()*.5})`;ctx.fillRect(Math.random()*W,Math.random()*H,1+Math.random()*3,1+Math.random()*3);}S.c32nums=null;
    document.getElementById('c32-phase').textContent='æ˜‡é †ã«ä¸¦ã¹ã¦ãã ã•ã„';document.getElementById('c32-btn').style.display='block';
    const sl=document.getElementById('c32-slots');for(let i=0;i<5;i++){const s=document.createElement('div');s.className='ec-sort-slot';s.dataset.i=i;s.textContent=i+1;sl.appendChild(s);}
    const it=document.getElementById('c32-items');const shuffled=[...nums].sort(()=>Math.random()-0.5);
    shuffled.forEach(n=>{const el=document.createElement('div');el.className='ec-sort-num';el.textContent=n;el.onclick=()=>{if(el.classList.contains('used'))return;const si=S.c32slots.findIndex(v=>v===null);if(si<0)return;S.c32slots[si]=n;el.classList.add('used');const slot=document.querySelector(`.ec-sort-slot[data-i="${si}"]`);slot.textContent=n;slot.classList.add('filled');};it.appendChild(el);});
  },3000);
}
function chkC32(){
  if(S.c32slots.includes(null)){setStatus('warn','ã™ã¹ã¦é¸ã‚“ã§ãã ã•ã„');return;}
  if(S.c32slots.every((v,i)=>v===S.c32answer[i]))goNext();else fail('é †ç•ªãŒé•ã„ã¾ã™');
}

// â•â• C33 DEDUCTIVE LOGIC â•â•
const LOGIC2=[
  {q:'â‘  ã™ã¹ã¦ã®Aã¯Bã§ã‚ã‚‹\nâ‘¡ ã™ã¹ã¦ã®Bã¯Cã§ã‚ã‚‹\nãªã‚‰ã°ã€ã™ã¹ã¦ã®Aã¯Cã§ã‚ã‚‹ï¼Ÿ',ans:'Yes',opts:['Yes','No','ã‚ã‹ã‚‰ãªã„','ã©ã¡ã‚‰ã§ã‚‚ãªã„']},
  {q:'â‘  ä»Šæ—¥ã¯æœˆæ›œã‹ç«æ›œã®ã©ã¡ã‚‰ã‹ã \nâ‘¡ ä»Šæ—¥ã¯æœˆæ›œã§ã¯ãªã„\nçµè«–: ä»Šæ—¥ã¯ç«æ›œã ',ans:'æ­£ã—ã„',opts:['æ­£ã—ã„','èª¤ã‚Š','åˆ¤æ–­ä¸èƒ½','æ¡ä»¶ãŒçŸ›ç›¾']},
  {q:'â‘  Aã¾ãŸã¯BãŒçœŸ\nâ‘¡ AãŒå½\nâ‘¢ Bã¾ãŸã¯CãŒå½\nCã¯çœŸã‹ï¼Ÿ',ans:'çœŸ',opts:['çœŸ','å½','ä¸æ˜','çŸ›ç›¾']},
  {q:'3äºº A,B,C ãŒã„ã‚‹ã€‚\næ­£ç›´è€…ã¯çœŸå®Ÿã®ã¿ã€å˜˜ã¤ãã¯å˜˜ã®ã¿ã‚’è¨€ã†ã€‚\nAã€Œç§ã¯å˜˜ã¤ãã ã€\nAã¯æ­£ç›´è€…ã‹ï¼Ÿ',ans:'å˜˜ã¤ã',opts:['æ­£ç›´è€…','å˜˜ã¤ã','ã©ã¡ã‚‰ã§ã‚‚ãªã„','çŸ›ç›¾']},
];
function initC33(){
  const q=LOGIC2[~~(Math.random()*LOGIC2.length)];S.c33answer=q.ans;
  document.getElementById('c33-logic').textContent=q.q;const cont=document.getElementById('c33-opts');cont.innerHTML='';
  q.opts.sort(()=>Math.random()-0.5).forEach(o=>{const b=document.createElement('button');b.className='ec-mc-btn';b.textContent=o;b.onclick=()=>{if(o===S.c33answer)goNext();else fail(`ä¸æ­£è§£ / ${S.c33answer}`);};cont.appendChild(b);});
}

// â•â• C34 TRIPLE SLIDER â•â•
function initC34(){
  const am=10+~~(Math.random()*76);S.c34atarget={min:am,max:am+5};S.c34aval=0;
  const bm=10+~~(Math.random()*76);S.c34btarget={min:bm,max:bm+5};S.c34bval=0;
  const cm=10+~~(Math.random()*76);S.c34ctarget={min:cm,max:cm+5};S.c34cval=0;
  ['a','b','c'].forEach(k=>{document.getElementById(`c34${k}-zone`).style.left=S[`c34${k}target`].min+'%';document.getElementById(`c34${k}-zone`).style.width='5%';updSlider3(`c34${k}`,0);mkSlider(`c34${k}-track`,`c34${k}val`,`c34${k}drag`);});
}
function chkC34(){
  const ok=k=>S[`c34${k}val`]>=S[`c34${k}target`].min&&S[`c34${k}val`]<=S[`c34${k}target`].max;
  if(ok('a')&&ok('b')&&ok('c'))goNext();else{const fails=['a','b','c'].filter(k=>!ok(k)).map(k=>k.toUpperCase()).join('ãƒ»');fail(`${fails} ãŒå¤–ã‚Œ`);}
}

// â•â• C35 MOVING TARGETS â•â•
function clearC35(){clearInterval(S.c35int);S.c35int=null;}
function initC35(){
  clearC35();const cv=document.getElementById('c35-cv');cv.width=cv.clientWidth||460;const W=cv.width,H=220;
  const ctx=cv.getContext('2d');ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W,H);
  const totalT=6+~~(Math.random()*4);S.c35total=totalT;S.c35clicked=0;S.c35targets=[];
  document.getElementById('c35-remain').textContent=`æ®‹ã‚Š ${totalT - S.c35clicked} / ${totalT}`;
  // spawn targets with random appearance times
  let spawned=0;
  const spawn=()=>{
    if(spawned>=totalT)return;spawned++;
    const r=22;const tx=r+Math.random()*(W-r*2),ty=r+Math.random()*(H-r*2);
    const vx=(Math.random()-.5)*1.8,vy=(Math.random()-.5)*1.8;
    const tObj={x:tx,y:ty,vx,vy,r,alive:true,id:spawned-1};S.c35targets.push(tObj);
    setTimeout(spawn,400+~~(Math.random()*800));
  };spawn();
  cv.onclick=e=>{
    const rect=cv.getBoundingClientRect();const mx=(e.clientX-rect.left)*(W/rect.width),my=(e.clientY-rect.top)*(H/rect.height);
    S.c35targets.forEach(t=>{if(!t.alive)return;const dx=mx-t.x,dy=my-t.y;if(Math.sqrt(dx*dx+dy*dy)<=t.r){t.alive=false;S.c35clicked++;document.getElementById('c35-remain').textContent=`æ®‹ã‚Š ${totalT-S.c35clicked} / ${totalT}`;if(S.c35clicked===totalT){clearC35();goNext();}}});
  };
  S.c35int=setInterval(()=>{
    cv.width=cv.clientWidth||460;const W2=cv.width;ctx.fillStyle='#f5f2ed';ctx.fillRect(0,0,W2,H);
    S.c35targets.forEach(t=>{
      if(!t.alive)return;t.x+=t.vx;t.y+=t.vy;if(t.x<t.r||t.x>W2-t.r)t.vx*=-1;if(t.y<t.r||t.y>H-t.r)t.vy*=-1;
      ctx.beginPath();ctx.arc(t.x,t.y,t.r,0,Math.PI*2);ctx.fillStyle='var(--accent)';ctx.fill();
      ctx.fillStyle='white';ctx.font='bold 11px IBM Plex Mono,monospace';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('!',t.x,t.y);
    });
  },16);
}

// â•â• DOCS TABS â•â•
function switchTab(id){
  document.querySelectorAll('.docs-tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.docs-nav-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('tab-'+id).classList.add('active');
  event.target.classList.add('active');
}

// â•â• COPY BUTTONS â•â•
function copyCode(btn){
  const code=btn.closest('.docs-code-wrap').querySelector('.docs-code');
  // strip HTML tags to get plain text
  const text=code.innerText||code.textContent;
  navigator.clipboard.writeText(text).then(()=>{btn.textContent='COPIED!';btn.classList.add('copied');setTimeout(()=>{btn.textContent='COPY';btn.classList.remove('copied');},2000);});
}
</script>
</body>
</html>
